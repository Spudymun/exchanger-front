# ✅ Redis Configuration for Development
# Optimized for development workflow and debugging

# Basic settings
port 6379
bind 0.0.0.0
protected-mode no

# Memory settings (development)
maxmemory 256mb
# ✅ CRITICAL: BullMQ requires noeviction policy to prevent queue job loss
# allkeys-lru would delete queue jobs when memory is full
maxmemory-policy noeviction

# Persistence settings (development)
save 900 1
save 300 10
save 60 10000

# Append-only file (development)
appendonly yes
appendfsync everysec

# Logging
loglevel notice
logfile ""

# Security (minimal for development)
# requirepass devpassword123

# Session-specific settings
databases 16
# Database 0: Default
# Database 1: Sessions
# Database 2: Cache
# Database 3: Rate limiting

# Key expiration settings
timeout 300
tcp-keepalive 300

# Development optimizations
tcp-backlog 511
maxclients 10000

# Enable keyspace notifications for session management
notify-keyspace-events "Ex"

# Development debugging
slowlog-log-slower-than 10000
slowlog-max-len 128
