# ===== TELEGRAM BOT APPLICATION CONFIGURATION =====
# Following Turborepo best practices: all app variables in app's .env

# ===== INFRASTRUCTURE (Required by Telegram Bot) =====
DATABASE_URL="postgresql://user:password@localhost:5432/dbname?schema=public&connection_limit=5&pool_timeout=10&connect_timeout=5&application_name=exchanger-telegram"

# ===== TELEGRAM BOT SETTINGS =====
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather
TELEGRAM_BOT_USERNAME=your_bot_username

# ===== INTEGRATION WITH WEB APP =====
WEB_APP_URL=http://localhost:3000

# ===== API AUTHENTICATION =====
API_SECRET_KEY=your_secret_key_here

# ===== OPERATOR CONFIGURATION =====
AUTHORIZED_TELEGRAM_OPERATORS=operator_id_1,operator_id_2

# ===== CHANNEL CONFIGURATION =====
# Support chat for customer messages
TELEGRAM_SUPPORT_CHAT_ID=-1000000000000
# Orders chat for order notifications
TELEGRAM_ORDERS_CHAT_ID=-1000000000000

# Topic IDs within TELEGRAM_ORDERS_CHAT_ID
TELEGRAM_NEW_ORDERS_TOPIC_ID=1
TELEGRAM_CANCELLED_ORDERS_TOPIC_ID=2
TELEGRAM_PAID_ORDERS_TOPIC_ID=3

# ===== WEBHOOK CONFIGURATION (Optional) =====
# Webhook URL for Telegram updates (optional, for production)
# TELEGRAM_WEBHOOK_URL=https://yourdomain.com/api/webhook
# Webhook secret for security
# TELEGRAM_WEBHOOK_SECRET=your_webhook_secret

# ===== BULLMQ QUEUE CONFIGURATION =====
# Redis connection for reliable notification delivery
REDIS_URL=redis://localhost:6379
# Redis database index for BullMQ (0-15, DB 0 used for sessions/cache)
REDIS_DB_QUEUE=1

# ===== BULLMQ WORKER CONFIGURATION =====
# URL for worker to send notifications back to telegram-bot API
TELEGRAM_BOT_URL=http://localhost:3003

# ===== DEVELOPMENT SETTINGS =====
NODE_ENV=development
PORT=3003
LOG_LEVEL=debug
DEBUG_TELEGRAM=true
