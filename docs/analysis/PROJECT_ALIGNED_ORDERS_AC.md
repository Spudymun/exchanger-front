# Acceptance Criteria: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–æ–±–º–µ–Ω (Production Ready)

## üèóÔ∏è –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ ExchangeGO

> **–°–æ–∑–¥–∞–Ω–æ:** 15 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
> **–í–µ—Ä—Å–∏—è:** 1.0 - Project-Aligned  
> **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** Next.js 15 + tRPC + Turborepo + Security-Enhanced Validation

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–ù–ê–õ–ò–ó –°–£–©–ï–°–¢–í–£–Æ–©–ï–ô "–†–ï–ê–õ–ò–ó–ê–¶–ò–ò"

**–í–ù–ò–ú–ê–ù–ò–ï: –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ø–æ–º–µ—á–µ–Ω–Ω—ã—Ö –∫–∞–∫ "—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö" —Ñ—É–Ω–∫—Ü–∏–π —è–≤–ª—è—é—Ç—Å—è –ó–ê–ì–õ–£–®–ö–ê–ú–ò –∏–ª–∏ MVP-–¥–µ–º–æ –≤–µ—Ä—Å–∏—è–º–∏, –ù–ï –≥–æ—Ç–æ–≤—ã–º–∏ –¥–ª—è production!**

### üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã:

1. **üè¶ "Wallet Management" = Random Mock Addresses**
   - `generateDepositAddress()` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–µ –∞–¥—Ä–µ—Å–∞ –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
   - –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ blockchain –∏–ª–∏ wallet services
   - –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–æ—à–µ–ª—å–∫–æ–≤

2. **üíæ "Database" = In-Memory Arrays**
   - `orderManager` –∏ `userManager` - —ç—Ç–æ –ø—Ä–æ—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã –≤ –ø–∞–º—è—Ç–∏
   - –ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –í–°–ï –î–ê–ù–ù–´–ï –¢–ï–†–Ø–Æ–¢–°–Ø
   - –ù–µ—Ç persistence, backup, –∏–ª–∏ recovery

3. **üîê "Authentication" = –ï—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π –Ω–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ª–æ–≥–∏–∫—É –¥–æ—Å—Ç—É–ø–∞**
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–µ—Å—Å–∏–π —á–µ—Ä–µ–∑ `packages/session-management/`
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** PostgreSQL + Redis architecture –¥–ª—è session storage
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** `operatorOnly`, `supportOnly` middleware —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–æ–ª–µ–π
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** `isAuthenticatedUser()` –∏ role validation —á–µ—Ä–µ–∑ `getUserRoleForApp()`
   - ‚úÖ **–ê–†–•–ò–¢–ï–ö–¢–£–†–ù–û –ü–†–ê–í–ò–õ–¨–ù–û:** publicProcedure –¥–ª—è createOrder (USER-—ã —Å–æ–∑–¥–∞—é—Ç –∑–∞—è–≤–∫–∏)
   - ‚úÖ **–ê–†–•–ò–¢–ï–ö–¢–£–†–ù–û –ü–†–ê–í–ò–õ–¨–ù–û:** operatorOnly –¥–ª—è updateOrderStatus (OPERATOR-—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç)
   - ‚ùå **–ö–†–ò–¢–ò–ß–ù–û:** –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–Ω–æ–Ω–∏–º–Ω—ã–µ –∑–∞—è–≤–∫–∏ –ë–ï–ó —Å–µ—Å—Å–∏–∏
   - ‚ùå **–ù–£–ñ–ù–û –î–û–†–ê–ë–û–¢–ê–¢–¨:** –õ–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –¥–æ–ª–∂–Ω–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–µ—Å—Å–∏—é:
     - –ù–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (auto-registration + session –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
     - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–æ –Ω–µ–∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö (auto-login + session –ø—Ä–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
     - –ó–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π session)

4. **üìù "Audit System" = –ï—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π logger –Ω–æ –Ω—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å**
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π `Logger` –∫–ª–∞—Å—Å –≤ `packages/utils/src/logger.ts`
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Log levels (error, warn, info, verbose, debug)
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Structured logging —Å timestamp –∏ JSON data
   - ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Environment-based logging (development vs production)
   - ‚ùå **–ù–£–ñ–ù–û –î–û–ü–û–õ–ù–ò–¢–¨:** Correlation ID –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
   - ‚ùå **–ù–£–ñ–ù–û –î–û–ü–û–õ–ù–ò–¢–¨:** Centralized storage (ELK stack –∏–ª–∏ –∞–Ω–∞–ª–æ–≥)

5. **‚ö° "Rate Limiting" = Local Process Only**
   - Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ Node.js –ø—Ä–æ—Ü–µ—Å—Å–∞
   - –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ cluster –∏–ª–∏ distributed environment

### üõ†Ô∏è –ß—Ç–æ –†–ï–ê–õ–¨–ù–û –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–ª—è Production:

**–ë–ê–ó–û–í–ê–Ø –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê (Phase 0 - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ):**

- üóÑÔ∏è **–†–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** ‚úÖ **–£–ñ–ï –ï–°–¢–¨** (PostgreSQL + Prisma —á–µ—Ä–µ–∑ session-management)
- üè¶ **–ù–∞—Å—Ç–æ—è—â–∏–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–æ–≤ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É/—Å–∫—Ä–∏–ø—Ç—ã (–ù–ï blockchain API)
- üîê **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** ‚úÖ **–£–ñ–ï –ï–°–¢–¨** (session-management package)
- üìä **Structured logging** ‚úÖ **–£–ñ–ï –ï–°–¢–¨** (–Ω—É–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç—å correlation ID –∏ centralized storage)
- üîÑ **Distributed rate limiting** (–ø–µ—Ä–µ–¥–µ–ª–∞—Ç—å –Ω–∞ Redis-based –≤–º–µ—Å—Ç–æ in-memory)
- üîí **Secrets management** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å .env files + secure deployment

**–ë–ò–ó–ù–ï–°-–õ–û–ì–ò–ö–ê (Phase 1):**

- üí∏ **–ù–ï –ù–£–ñ–ù–û** - –æ–ø–µ—Ä–∞—Ç–æ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞—Ç–µ–∂–∏ –≤—Ä—É—á–Ω—É—é –ø–æ –∑–∞—è–≤–∫–∞–º
- üìß **Email service integration** - –Ω—É–∂–Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –æ–ø—Ü–∏—è (Resend, Gmail SMTP, –∏–ª–∏ Nodemailer)
- ü§ñ **Telegram Bot API** (—Å webhook authentication)
- üîÑ **Background job processing** (Bull/Bee-Queue + Redis)

**–ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ù–ê–î–ï–ñ–ù–û–°–¢–¨ (Phase 2):**

- üìà **Application monitoring** (DataDog, New Relic)
- üö® **Alerting system** (PagerDuty integration)
- üîÑ **Health checks –∏ graceful shutdown**
- üìä **Business metrics –∏ KPI tracking**

---

## üìã –†–µ–∑—é–º–µ –æ—Ç–ª–∏—á–∏–π –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã—Ö AC

**–ö–õ–Æ–ß–ï–í–´–ï –ê–î–ê–ü–¢–ê–¶–ò–ò:**

- ‚úÖ **tRPC procedures** –≤–º–µ—Å—Ç–æ REST API endpoints
- ‚úÖ **Security-enhanced validation schemas** –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤** (`PENDING`, `PAID`, `PROCESSING`, `COMPLETED`, `CANCELLED`, `FAILED`)
- ‚úÖ **–†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å** —Å `operatorOnly`, `supportOnly`, `operatorAndSupport` middleware
- ‚úÖ **Centralized packages** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (`@repo/constants`, `@repo/utils`, `@repo/exchange-core`)
- ‚úÖ **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–æ—É—Ç–µ—Ä—ã** –∫–∞–∫ —Ç–æ—á–∫–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`exchange.ts`, `operator.ts`, `shared.ts`)

**–ù–û–í–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–µ):**

- üìß Email notification system
- ü§ñ Telegram bot integration
- üè¶ Wallet pool management (FIFO queues)
- üìä Advanced monitoring & metrics
- üîÑ Asynchronous processing queues

---

## 1. –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [ ] –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º 1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫ —á–µ—Ä–µ–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é tRPC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- [ ] –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ tRPC procedures –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å 200–º—Å –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ–π –∫ —Å–±–æ—è–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∞—É–¥–∏—Ç–∞
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–ª—é—á–µ–≤—ã—Ö –º–µ—Ç—Ä–∏–∫: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫, –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

## 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (tRPC Procedure `exchange.createOrder`)

**AC2.1: Security-Enhanced –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `securityEnhancedCreateExchangeOrderSchema` –∏–∑ `@repo/utils`
- [ ] XSS protection –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ø–æ–ª–µ–π
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ email —á–µ—Ä–µ–∑ `xssProtectedEmailSchema`
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∏–ø—Ç–æ—Å—É–º–º—ã –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö `VALIDATION_LIMITS.MIN_USD_AMOUNT` / `MAX_USD_AMOUNT`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö –≤–∞–ª—é—Ç —á–µ—Ä–µ–∑ `CRYPTOCURRENCIES` –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É
- [ ] –ü—Ä–∏ –æ—à–∏–±–∫–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è tRPC error —Å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Zod

**AC2.1A: Flexible User Authentication –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ (–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)**

- [ ] **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –ë–µ–∑ —Å–µ—Å—Å–∏–∏ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –ù–ï–í–û–ó–ú–û–ñ–ù–û - –∫–∞–∂–¥–∞—è –∑–∞—è–≤–∫–∞ –î–û–õ–ñ–ù–ê –∏–º–µ—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞
- [ ] **–ù–û–í–û–ï:** `exchange.createOrder` –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
  - **–ù–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ:** Auto-registration –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email + –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï —Å–æ–∑–¥–∞–Ω–∏–µ session
  - **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–æ –Ω–µ–∑–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã–µ:** Auto-login –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email + –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï —Å–æ–∑–¥–∞–Ω–∏–µ session
  - **–ó–∞–ª–æ–≥–∏–Ω–µ–Ω–Ω—ã–µ:** –û–±—ã—á–Ω—ã–π flow —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π session
- [ ] **–ù–û–í–û–ï:** –í–∞–ª–∏–¥–∞—Ü–∏—è email —á–µ—Ä–µ–∑ `userManager.findByEmail()` –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] **–ù–û–í–û–ï:** Auto-registration logic:
  - –°–æ–∑–¥–∞—Ç—å user —á–µ—Ä–µ–∑ `userManager.create()` —Å —Ä–æ–ª—å—é USER
  - –°–æ–∑–¥–∞—Ç—å session —á–µ—Ä–µ–∑ session-management
  - –ü—Ä–∏–≤—è–∑–∞—Ç—å –∑–∞—è–≤–∫—É –∫ –Ω–æ–≤–æ–º—É user
- [ ] **–ù–û–í–û–ï:** Auto-login logic:
  - –ù–∞–π—Ç–∏ existing user —á–µ—Ä–µ–∑ email
  - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é session —á–µ—Ä–µ–∑ session-management
  - –ü—Ä–∏–≤—è–∑–∞—Ç—å –∑–∞—è–≤–∫—É –∫ existing user
- [ ] **–ù–û–í–û–ï:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å atomic (transaction-safe)

**AC2.2: –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ —Å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ–º –∞–¥—Ä–µ—Å–∞ (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)**

- [ ] üö® **–ó–ê–ì–õ–£–®–ö–ê!** –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ `exchange.createOrder`:
  - ‚ùå `generateDepositAddress()` - **—ç—Ç–æ –°–õ–£–ß–ê–ô–ù–´–ï mock-–∞–¥—Ä–µ—Å–∞ –∏–∑ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã!**
  - ‚ùå –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ blockchain nodes –∏–ª–∏ wallet services
  - ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫–æ—à–µ–ª—å–∫–æ–≤ –∏–ª–∏ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–æ–≤
  - ‚ùå `orderManager` - **—ç—Ç–æ –≤-–ø–∞–º—è—Ç–∏ –º–∞—Å—Å–∏–≤, –Ω–µ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö!**
  - ‚ùå Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
  - üîß **–ù–£–ñ–ù–û –î–õ–Ø PRODUCTION:** –†–µ–∞–ª—å–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º –∫–æ—à–µ–ª—å–∫–∞–º, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π rate limiting

**AC2.3: –£–º–Ω–∞—è –æ—á–µ—Ä–µ–¥—å –∫–æ—à–µ–ª—å–∫–æ–≤ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö (–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)**

- [ ] **–ù–û–í–û–ï:** –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ü–µ–¥—É—Ä—É `exchange.createOrderWithSmartQueue`:
  - –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –≤ –ø—É–ª–µ:
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –∑–∞–Ω—è—Ç—ã–π –∫–æ—à–µ–ª–µ–∫
  - –ó–∞—è–≤–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ù–ï–ú–ï–î–õ–ï–ù–ù–û —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `ORDER_STATUSES.PENDING`
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è response —Å `usedOldestOccupiedWallet: true` –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ü–∏–∏
  - Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É —Å –∞–¥—Ä–µ—Å–æ–º –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞

**AC2.4: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ–µ–≤ —Å tRPC Error Handling**

- [ ] –ü—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `createInternalServerError`
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ö–∞–Ω–∏–∑–º –ø–æ–≤—Ç–æ—Ä–∞ –¥–ª—è —Ç—Ä–∞–Ω–∑–∏–µ–Ω—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ middleware
- [ ] –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö —á–µ—Ä–µ–∑ unique constraints
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ centralized error handling –∏–∑ `@repo/utils`

## 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É–ª–æ–º –∫–æ—à–µ–ª—å–∫–æ–≤ (–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

**AC3.1: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π**

- [ ] **–ù–û–í–û–ï:** –°–æ–∑–¥–∞—Ç—å `walletPoolManager` –≤ `packages/exchange-core/src/services/`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º `generateDepositAddress()` —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å centralized constants –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—É–ª–∞
- [ ] –°–ª–µ–¥–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º error handling

**AC3.2: FIFO –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è –∫–æ—à–µ–ª—å–∫–æ–≤ —Å —É–º–Ω–æ–π –æ—á–µ—Ä–µ–¥—å—é**

- [ ] –°–≤–æ–±–æ–¥–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω—ã –≤ —Å—Ç—Ä–æ–≥—É—é FIFO-–æ—á–µ—Ä–µ–¥—å
- [ ] –ü—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –≤—Å–µ–≥–¥–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π –∫–æ—à–µ–ª–µ–∫
- [ ] **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ ‚Üí –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –∑–∞–Ω—è—Ç—ã–π –∫–æ—à–µ–ª–µ–∫
- [ ] –ü—Ä–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–∏ –∫–æ—à–µ–ª–µ–∫ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ —Ö–≤–æ—Å—Ç –æ—á–µ—Ä–µ–¥–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö
- [ ] FIFO –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∏ –∫ —Å–≤–æ–±–æ–¥–Ω—ã–º, –∏ –∫ –∑–∞–Ω—è—Ç—ã–º –∫–æ—à–µ–ª—å–∫–∞–º

**AC3.3: –ú–µ—Ö–∞–Ω–∏–∑–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤**

- [ ] **–†–ê–°–®–ò–†–ï–ù–ò–ï:** –î–æ–ø–æ–ª–Ω–∏—Ç—å `operator.updateOrderStatus` –ø—Ä–æ—Ü–µ–¥—É—Ä—É:
  - –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∑–∞—è–≤–∫–∏ –≤ —Å—Ç–∞—Ç—É—Å—ã `COMPLETED`/`CANCELLED`:
  - –ö–æ—à–µ–ª–µ–∫ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `walletPoolManager.releaseWallet()`
  - –ö–æ—à–µ–ª–µ–∫ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –∫–æ–Ω–µ—Ü –æ—á–µ—Ä–µ–¥–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è existing status transition validation

**AC3.4: –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫ (–±–µ–∑ –æ—á–µ—Ä–µ–¥–∏ –æ–∂–∏–¥–∞–Ω–∏—è)**

- [ ] **–ö–õ–Æ–ß–ï–í–û–ï –¢–†–ï–ë–û–í–ê–ù–ò–ï:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –í–°–ï–ì–î–ê –ø–æ–ª—É—á–∞–µ—Ç –∑–∞—è–≤–∫—É —Å –∞–¥—Ä–µ—Å–æ–º –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- [ ] –ù–∏–∫–∞–∫–∏—Ö –æ—á–µ—Ä–µ–¥–µ–π –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ - —Ç–æ–ª—å–∫–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ
- [ ] –ü—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∞–º—ã–π —Å—Ç–∞—Ä—ã–π –∑–∞–Ω—è—Ç—ã–π
- [ ] –§–ª–∞–≥ `usedOldestOccupiedWallet: true` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ä–µ–∂–∏–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] –ê–¥—Ä–µ—Å —Å—Ä–∞–∑—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤

**AC3.5: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—É–ª–∞**

- [ ] **–ù–û–í–û–ï:** –î–æ–±–∞–≤–∏—Ç—å –≤ `shared.ts` —Ä–æ—É—Ç–µ—Ä –ø—Ä–æ—Ü–µ–¥—É—Ä—ã:
  - `shared.getWalletPoolStats` (operatorAndSupport –¥–æ—Å—Ç—É–ø)
  - –ú–µ—Ç—Ä–∏–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö/–∑–∞–Ω—è—Ç—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
  - –ú–µ—Ç—Ä–∏–∫–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ—á–µ—Ä–µ–¥–∏ –æ–∂–∏–¥–∞–Ω–∏—è –ø–æ —Å–µ—Ç—è–º
  - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–º —É–º–µ–Ω—å—à–µ–Ω–∏–∏ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤

## 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º (–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

**AC4.1: tRPC API –¥–ª—è Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

- [ ] **–ù–û–í–û–ï:** –°–æ–∑–¥–∞—Ç—å `/apps/telegram-bot/` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –º–æ–Ω–æ—Ä–µ–ø–æ
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é tRPC client –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è —Å–≤—è–∑–∏ —Å –æ—Å–Ω–æ–≤–Ω—ã–º API
- [ ] –ü—Ä–∏–º–µ–Ω—è—Ç—å security-enhanced schemas –¥–ª—è –≤—Å–µ—Ö webhook –¥–∞–Ω–Ω—ã—Ö
- [ ] –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å existing user role system

**AC4.2: –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –Ω–æ–≤—ã—Ö –∑–∞—è–≤–∫–∞—Ö**

- [ ] **–†–ê–°–®–ò–†–ï–ù–ò–ï:** –î–æ–ø–æ–ª–Ω–∏—Ç—å `exchange.createOrder` –ø—Ä–æ—Ü–µ–¥—É—Ä—É:
  - –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ webhook
  - –î–ª—è –∑–∞—è–≤–æ–∫ —Å immediate –∞–¥—Ä–µ—Å–æ–º - —Å inline –∫–Ω–æ–ø–∫–æ–π "–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É"
  - –î–ª—è –∑–∞—è–≤–æ–∫ –≤ –æ—á–µ—Ä–µ–¥–∏ - —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–æ–∑–∏—Ü–∏–∏ –≤ –æ—á–µ—Ä–µ–¥–∏
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å existing order data structures

**AC4.3: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º**

- [ ] **–ù–û–í–û–ï:** –°–æ–∑–¥–∞—Ç—å tRPC procedures –¥–ª—è Telegram callbacks:
  - `operator.claimOrderFromTelegram` - –≤–∑—è—Ç–∏–µ –∑–∞—è–≤–∫–∏ –≤ —Ä–∞–±–æ—Ç—É
  - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º claim: —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `ORDER_STATUSES.PROCESSING`
  - –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è operator ID —á–µ—Ä–µ–∑ existing user management
  - –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è Telegram —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ bot API

**AC4.4: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**

- [ ] –í—Å–µ tRPC endpoints –¥–ª—è –±–æ—Ç–∞ –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ existing `operatorOnly` middleware
- [ ] –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è Telegram webhook signatures
- [ ] Rate limiting –¥–ª—è Telegram API calls
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ existing security-enhanced schemas

## 5. –û–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö)

**AC5.1: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `operator.takeOrder` (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)**

- [ ] üö® **–ü–û–õ–£–ó–ê–ì–õ–£–®–ö–ê:** –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ `operator.takeOrder` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ù–û:
  - ‚ùå –ù–µ—Ç –ø—Ä–∏–≤—è–∑–∫–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –∫ –∑–∞—è–≤–∫–µ (operator ID –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è)
  - ‚ùå –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–æ–∂–µ—Ç –ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–∑—è—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –∑–∞—è–≤–∫—É
  - ‚ùå –ù–µ—Ç concurrent access protection (–¥–≤–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ –º–æ–≥—É—Ç –≤–∑—è—Ç—å –æ–¥–Ω—É –∑–∞—è–≤–∫—É)
  - ‚ùå –ù–µ—Ç —Ç–∞–π–º–∞—É—Ç–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
  - üîß **–ù–£–ñ–ù–û –î–õ–Ø PRODUCTION:** Database transactions, operator assignment tracking, locking mechanisms

**AC5.2: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ `operator.updateOrderStatus` (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)**

- [ ] üö® **–ü–û–õ–£–ó–ê–ì–õ–£–®–ö–ê:** –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ `operator.updateOrderStatus` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ù–û:
  - ‚ùå –ù–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ (–∫–æ—à–µ–ª—å–∫–∏ –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è)
  - ‚ùå –ù–µ—Ç email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞–º
  - ‚ùå –ù–µ—Ç audit trail –∫—Ç–æ –∏ –∫–æ–≥–¥–∞ –º–µ–Ω—è–ª —Å—Ç–∞—Ç—É—Å
  - ‚ùå `canTransitionStatus()` - –±–∞–∑–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
  - üîß **–ù–£–ñ–ù–û –î–õ–Ø PRODUCTION:** Wallet management, notification system, audit logging

**AC5.3: –ù–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã**

- [ ] **–ù–û–í–û–ï:** `operator.getAssignedOrders` - –∑–∞—è–≤–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
- [ ] **–ù–û–í–û–ï:** `operator.getWorkloadStats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
- [ ] **–ù–û–í–û–ï:** `operator.escalateToSupport` - —ç—Å–∫–∞–ª–∞—Ü–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

## 6. Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

**AC6.1: Email service –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**

- [ ] **–ù–û–í–û–ï:** –°–æ–∑–¥–∞—Ç—å `packages/providers/src/email/` —Å–µ—Ä–≤–∏—Å
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing tRPC procedures —á–µ—Ä–µ–∑ middleware
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ centralized email templates –≤ `packages/constants/`
- [ ] Security-enhanced validation –¥–ª—è email –¥–∞–Ω–Ω—ã—Ö

**AC6.2: –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏**

- [ ] **–†–ê–°–®–ò–†–ï–ù–ò–ï:** –î–æ–ø–æ–ª–Ω–∏—Ç—å `exchange.createOrder`:
  - –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ email —á–µ—Ä–µ–∑ background queue
  - –®–∞–±–ª–æ–Ω –ø–∏—Å—å–º–∞ –≤–∫–ª—é—á–∞–µ—Ç –≤—Å–µ –¥–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏
  - Retry –ª–æ–≥–∏–∫–∞ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing order data structures

**AC6.3: –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–ª—è –∑–∞—è–≤–æ–∫ –∏–∑ –æ—á–µ—Ä–µ–¥–∏**

- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏ –≤—ã–¥–µ–ª–µ–Ω–∏–∏ –∫–æ—à–µ–ª—å–∫–∞ –¥–ª—è –∑–∞—è–≤–∫–∏ –∏–∑ –æ—á–µ—Ä–µ–¥–∏
- [ ] –û—Ç–¥–µ–ª—å–Ω—ã–π email template —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–∞
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ existing notification patterns

**AC6.4: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –¥–æ—Å—Ç–∞–≤–∫–∏**

- [ ] **–ù–û–í–û–ï:** –î–æ–±–∞–≤–∏—Ç—å –≤ `shared.ts` –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ email:
  - –¢—Ä–µ–∫–∏–Ω–≥ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ email
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç–∞–≤–∫–∏ —á–µ—Ä–µ–∑ existing audit system
  - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–±–æ—è—Ö email-—Å–µ—Ä–≤–∏—Å–∞

## 7. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å

**AC7.1: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ existing patterns)**

- [ ] –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª–µ–π —á–µ—Ä–µ–∑ existing `orderManager`
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing order search functionality
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ existing pagination utilities –∏–∑ `@repo/utils`

**AC7.2: –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ existing infrastructure)**

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing tRPC query caching
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤ —á–µ—Ä–µ–∑ Redis
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ existing rate limiting infrastructure

**AC7.3: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)**

- [ ] **–ù–û–í–û–ï:** Background queue system –¥–ª—è email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] **–ù–û–í–û–ï:** Queue –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing error handling patterns
- [ ] Rate limiting –¥–ª—è –≤–Ω–µ—à–Ω–∏–µ API —á–µ—Ä–µ–∑ existing middleware

## 8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ existing security patterns)

**AC8.1: –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)**

- [ ] üö® **–ß–ê–°–¢–ò–ß–ù–û –ó–ê–ì–õ–£–®–ö–ê:** Security-enhanced validation —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ù–û:
  - ‚ùå –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ in-memory –º–∞—Å—Å–∏–≤–∞—Ö - **–ù–ï–¢ –ü–ï–†–°–ò–°–¢–ï–ù–¢–ù–û–°–¢–ò!**
  - ‚ùå –ù–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (email, recipient data)
  - ‚ùå –ù–µ—Ç backup/recovery –º–µ—Ö–∞–Ω–∏–∑–º–æ–≤
  - ‚ùå –ü—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–µ—Ä–∞ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è
  - üîß **–ù–£–ñ–ù–û –î–õ–Ø PRODUCTION:** –†–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, encryption at rest, backup strategy

**AC8.2: API –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑)**

- [ ] üö® **–ß–ê–°–¢–ò–ß–ù–û –ó–ê–ì–õ–£–®–ö–ê:** Rate limiting –∏ validation –µ—Å—Ç—å –ù–û:
  - ‚ùå Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–Ω–µ distributed)
  - ‚ùå –ù–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç DDoS –∞—Ç–∞–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
  - ‚ùå –ù–µ—Ç API monitoring –∏ alerting –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
  - üîß **–ù–£–ñ–ù–û –î–õ–Ø PRODUCTION:** Redis-based rate limiting, WAF, monitoring

**AC8.3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ü–µ—Ä–µ—Å–º–æ—Ç—Ä)**

- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `session-management`
- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** PostgreSQL + Redis session storage
- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å —Å `operatorOnly`, `supportOnly` middleware
- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** `isAuthenticatedUser()` –∏ role validation
- [ ] **–ü–†–û–í–ï–†–ò–¢–¨:** –ï—Å—Ç—å –ª–∏ —Ä–µ–∞–ª—å–Ω—ã–µ users —Å OPERATOR/SUPPORT —Ä–æ–ª—è–º–∏ –≤ –ë–î
- [ ] **–î–û–ü–û–õ–ù–ò–¢–¨:** API Keys –¥–ª—è –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (Telegram bot, email service)
- [ ] **–ù–û–í–û–ï:** Flexible authentication –¥–ª—è exchange —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
  - –û—Å—Ç–∞–≤–∏—Ç—å publicProcedure –¥–ª—è `exchange.createOrder` (USER –¥–æ—Å—Ç—É–ø)
  - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å conditional auto-registration/login –ª–æ–≥–∏–∫—É –í–ù–£–¢–†–ò –ø—Ä–æ—Ü–µ–¥—É—Ä—ã
  - –û–±–µ—Å–ø–µ—á–∏—Ç—å –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–£–Æ —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ auto-registration/auto-login
  - –ö–ê–ñ–î–ê–Ø –∑–∞—è–≤–∫–∞ –î–û–õ–ñ–ù–ê –∏–º–µ—Ç—å –≤–ª–∞–¥–µ–ª—å—Ü–∞ (user + session)

## 9. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ existing infrastructure)

**AC9.1: –ú–µ—Ç—Ä–∏–∫–∏ (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ existing `shared.ts`)**

- [ ] **–†–ê–°–®–ò–†–ï–ù–ò–ï:** –î–æ–ø–æ–ª–Ω–∏—Ç—å `shared.getOrdersStatistics`:
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—è–≤–æ–∫ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º (—É–∂–µ –µ—Å—Ç—å)
  - –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º
  - –†–∞–∑–º–µ—Ä—ã –æ—á–µ—Ä–µ–¥–µ–π –∫–æ—à–µ–ª—å–∫–æ–≤ –∏ –∑–∞—è–≤–æ–∫
  - Rate –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º –æ–ø–µ—Ä–∞—Ü–∏–π

**AC9.2: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ü–µ—Ä–µ—Å–º–æ—Ç—Ä)**

- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Centralized Logger –∫–ª–∞—Å—Å –≤ `packages/utils/src/logger.ts`
- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Log levels (error, warn, info, verbose, debug)
- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Structured logging —Å timestamp –∏ JSON data
- [ ] ‚úÖ **–£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:** Environment-based configuration
- [ ] **–î–û–ü–û–õ–ù–ò–¢–¨:** Correlation ID –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏ wallet allocations
- [ ] **–î–û–ü–û–õ–ù–ò–¢–¨:** Centralized log storage (ELK stack –∏–ª–∏ —Ñ–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)
- [ ] **–î–û–ü–û–õ–ù–ò–¢–¨:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing operator procedures –¥–ª—è audit trail

**AC9.3: –ê–ª–µ—Ä—Ç–∏–Ω–≥ (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)**

- [ ] **–ù–û–í–û–ï:** –°–∏—Å—Ç–µ–º–∞ –∞–ª–µ—Ä—Ç–æ–≤ —á–µ—Ä–µ–∑ Telegram/email:
  - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç–µ –æ—à–∏–±–æ–∫ –≤ tRPC procedures
  - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–∞–∑–º–µ—Ä–æ–≤ –æ—á–µ—Ä–µ–¥–µ–π
  - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å existing monitoring patterns

## 10. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**AC10.1: Centralized Packages Usage**

- [ ] –í—Å–µ –Ω–æ–≤—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `packages/constants/`
- [ ] –í—Å–µ utility functions –∏—Å–ø–æ–ª—å–∑—É—é—Ç existing `packages/utils/`
- [ ] –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞—Å—à–∏—Ä—è–µ—Ç `packages/exchange-core/`
- [ ] UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç existing `packages/ui/`

**AC10.2: tRPC Router Extensions**

- [ ] –ù–æ–≤—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ existing —Ä–æ—É—Ç–µ—Ä—ã –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- [ ] –ù–æ–≤—ã–µ —Ä–æ—É—Ç–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ namespace separation
- [ ] –í—Å–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç appropriate middleware (`operatorOnly`, `supportOnly`)
- [ ] –°–ª–µ–¥–æ–≤–∞–Ω–∏–µ existing naming conventions –∏ patterns

**AC10.3: Error Handling Consistency**

- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ centralized error creators –∏–∑ `@repo/utils`
- [ ] Consistent error messages —á–µ—Ä–µ–∑ internationalization system
- [ ] Proper tRPC error codes –¥–ª—è different failure scenarios
- [ ] Integration —Å existing audit logging

---

## üìä –†–ï–ê–õ–ò–°–¢–ò–ß–ù–´–ï Implementation Priorities

### Phase 0: Infrastructure Foundation (–ö–†–ò–¢–ò–ß–ù–û - –±–µ–∑ —ç—Ç–æ–≥–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–µ production-ready)

1. **Database setup** - PostgreSQL + Prisma ORM –¥–ª—è persistence
2. **Real authentication** - NextAuth.js —Å proper session management
3. **Logging infrastructure** - Winston + structured logging
4. **Secrets management** - Environment variables + secure storage
5. **Health checks** - Basic monitoring endpoints

### Phase 1: Core Business Logic

1. **Real wallet integrations** - Bitcoin Core, Ethereum node connections
2. **Payment processing** - –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ API –¥–ª—è UAH transfers
3. **Email notifications** - SendGrid/AWS SES integration
4. **Background jobs** - Redis + Bull queue –¥–ª—è async processing
5. **Audit trails** - Database-based order history tracking

### Phase 2: Production Operations

1. **Monitoring & alerting** - DataDog integration, error tracking
2. **Telegram bot** - With proper webhook security
3. **Advanced wallet management** - Pool management, FIFO queues
4. **Performance optimization** - Caching, database indexing
5. **Disaster recovery** - Backup strategies, failover procedures

### Phase 3: Scale & Polish

1. **Advanced monitoring** - Business KPIs, operator dashboards
2. **Load balancing** - Multi-instance deployment
3. **Advanced security** - Rate limiting improvements, DDoS protection
4. **Analytics** - Revenue tracking, conversion optimization

---

**BOTTOM LINE: –ü–æ—Å–ª–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞ - –ø—Ä–æ–µ–∫—Ç –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ –≥–æ—Ç–æ–≤ –∫ production —á–µ–º –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–ª–æ—Å—å. –ï—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è authentication —Å–∏—Å—Ç–µ–º–∞, structured logging, –∏ PostgreSQL –±–∞–∑–∞. –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –∑–∞–¥–∞—á–∏: wallet management, email notifications, –∏ Telegram bot. –ü—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ 40-50% —Ä–∞–±–æ—Ç—ã –µ—â–µ –ø—Ä–µ–¥—Å—Ç–æ–∏—Ç —Å–¥–µ–ª–∞—Ç—å (–≤–º–µ—Å—Ç–æ –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã—Ö 70-80%).**

## üìß Email Service Integration - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –æ–ø—Ü–∏–∏:

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**

1. **Resend** - 3,000 emails/month –±–µ—Å–ø–ª–∞—Ç–Ω–æ, –æ—Ç–ª–∏—á–Ω–æ–µ API
2. **Gmail SMTP** - –±–µ—Å–ø–ª–∞—Ç–Ω–æ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏, –ø—Ä–æ—Å—Ç–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Nodemailer
3. **Brevo (ex-Sendinblue)** - 300 emails/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ
4. **Mailgun** - 1,000 emails/month –≤ free tier

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–µ–∫—Ç:**

```typescript
// packages/providers/src/email/email-service.ts
import { createLogger } from '@repo/utils';
const logger = createLogger({ context: 'EmailService' });

export class EmailService {
  async sendOrderCreated(order: Order) {
    // Implementation using chosen service
    logger.info('Email sent', { orderId: order.id, type: 'order_created' });
  }
}
```
