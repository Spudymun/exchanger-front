# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–ª–∞–Ω –º–∞–Ω—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Å–µ—Å—Å–∏–π

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

1. **–ë—Ä–∞—É–∑–µ—Ä—ã**: Chrome, Firefox, Safari (–µ—Å–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ)
2. **DevTools**: –î–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ cookies, —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
3. **Database tools**:
   - pgAdmin/DBeaver –¥–ª—è PostgreSQL
   - RedisInsight/redis-cli –¥–ª—è Redis
4. **API-–∫–ª–∏–µ–Ω—Ç**: Postman/Insomnia –¥–ª—è –ø—Ä—è–º—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
5. **–ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞**: curl –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫

### –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:

- 3-5 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏
- –†–∞–∑–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏
- –†–∞–∑–Ω—ã–µ IP-–∞–¥—Ä–µ—Å–∞ (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ VPN)

## –ß–µ–∫-–ª–∏—Å—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### I. –ë–∞–∑–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

#### 1. –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–Ω

- [ ] –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ UI
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ PostgreSQL (`users` —Ç–∞–±–ª–∏—Ü–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ HTTP-only cookie `sessionId`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏ –≤ Redis (`KEYS session:*`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –≤ —Å–µ—Å—Å–∏–∏ (IP, user-agent)

#### 2. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–µ—Å—Å–∏–∏

- [ ] –í—Ö–æ–¥ —Å –æ–¥–Ω–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞ - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
- [ ] –í—Ö–æ–¥ —Å –¥—Ä—É–≥–æ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞/—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ - –≤—Ç–æ—Ä–∞—è —Å–µ—Å—Å–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –æ–±–µ —Å–µ—Å—Å–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã –≤ Redis
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º —Å –æ–±–µ–∏—Ö —Å–µ—Å—Å–∏–π

#### 3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã

- [ ] –í—ã—Ö–æ–¥ —á–µ—Ä–µ–∑ UI
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ cookie `sessionId`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ –∏–∑ Redis
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞

### II. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö

#### 1. Mock-—Ä–µ–∂–∏–º

- [ ] –ó–∞–ø—É—Å–∫ —Å `NODE_ENV=test`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–∏—à—É—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã–µ –ë–î
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ mock-—Ä–µ–∂–∏–º–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ "–≤ –ø–∞–º—è—Ç–∏" –ø–æ—Å–ª–µ –≤—ã—Ö–æ–¥–∞

#### 2. Development-—Ä–µ–∂–∏–º

- [ ] –ó–∞–ø—É—Å–∫ —Å `NODE_ENV=development`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ PostgreSQL –∏ Redis (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ fallback –Ω–∞ mock –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ë–î

#### 3. Production-—Ä–µ–∂–∏–º

- [ ] –ó–∞–ø—É—Å–∫ —Å `NODE_ENV=production`
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ PostgreSQL –∏ Redis
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è fallback –Ω–∞ mock

### III. –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∏ edge-–∫–µ–π—Å—ã

#### 1. –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

- [ ] –í—Ö–æ–¥ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º email
- [ ] –í—Ö–æ–¥ —Å –Ω–µ–≤–µ—Ä–Ω—ã–º –ø–∞—Ä–æ–ª–µ–º
- [ ] –ü–æ–ø—ã—Ç–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è cookie –∏ —Å–µ—Å—Å–∏–π –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

#### 2. –ü—Ä–æ–±–ª–µ–º—ã —Å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏

##### PostgreSQL –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞:

- [ ] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL
- [ ] –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ

##### Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:

- [ ] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Redis
- [ ] –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ - –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å fallback –Ω–∞ PostgreSQL
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–ø–∏—Å–∏ sessionId –≤ PostgreSQL
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å Redis - –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã

##### –û–±–∞ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã:

- [ ] –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PostgreSQL –∏ Redis
- [ ] –ü–æ–ø—ã—Ç–∫–∞ –≤—Ö–æ–¥–∞ - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ graceful degradation

#### 3. –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –∏ —Ç–∞–π–º–∞—É—Ç—ã

- [ ] –ò–º–∏—Ç–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç PostgreSQL
- [ ] –ò–º–∏—Ç–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –æ—Ç Redis
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

#### 4. –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

- [ ] –í—Ö–æ–¥ —Å –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã–º–∏ email/–ø–∞—Ä–æ–ª—è–º–∏
- [ ] –í—Ö–æ–¥ —Å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ —Å–∏–º–≤–æ–ª–∞–º–∏ –≤ credentials
- [ ] –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤—Ö–æ–¥ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

### IV. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

#### 1. –ó–∞—â–∏—Ç–∞ cookies

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ sessionId cookie - HttpOnly
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–ª–∞–≥–∞ Secure –≤ production
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ SameSite policy

#### 2. –ü–æ–ø—ã—Ç–∫–∏ –æ–±—Ö–æ–¥–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

- [ ] –ü–æ–¥–º–µ–Ω–∞ sessionId –≤ cookie
- [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ sessionId –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] XSS-–∞—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞

#### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

- [ ] SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ –≤ –ø–æ–ª—è –≤–≤–æ–¥–∞
- [ ] NoSQL-–∏–Ω—ä–µ–∫—Ü–∏–∏ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ session fixation

### V. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

#### 1. –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é

- [ ] 10+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤
- [ ] –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å –≤–∞–ª–∏–¥–Ω—ã–º–∏ —Å–µ—Å—Å–∏—è–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫–ª–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π

#### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–≤–µ—Ç–∞

- [ ] –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Å–µ—Å—Å–∏–∏
- [ ] –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–µ—Å—Å–∏–∏
- [ ] –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –≤—ã—Ö–æ–¥–∞

### VI. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö

#### 1. Cross-browser —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] Chrome - –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] Firefox - –ø–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] Safari - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [ ] Mobile browsers - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ cookie-–ø–æ–ª–∏—Ç–∏–∫

- [ ] –ë—Ä–∞—É–∑–µ—Ä—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ cookies
- [ ] –ë—Ä–∞—É–∑–µ—Ä—ã –≤ incognito-—Ä–µ–∂–∏–º–µ
- [ ] –ë—Ä–∞—É–∑–µ—Ä—ã —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π third-party cookies

### VII. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—á–∏—Å—Ç–∫–∏ –∏ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏

#### 1. –ò—Å—Ç–µ—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–∏

- [ ] –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ—Ä–æ—Ç–∫–æ–≥–æ TTL (1-2 –º–∏–Ω—É—Ç—ã)
- [ ] –û–∂–∏–¥–∞–Ω–∏–µ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤—ã—Ö–æ–¥–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—á–∏—Å—Ç–∫–∏ –∏–∑ Redis

#### 2. –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π

- [ ] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ –∏–∑ Redis
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–ª–æ–≥–∏–Ω–µ–Ω
- [ ] –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ sessionId –∏–∑ PostgreSQL
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–π —Å–µ—Å—Å–∏–∏

### VIII. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

#### 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

- [ ] –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏–º–∏ —Å–µ—Å—Å–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –≤—ã—Ö–æ–¥–∞ (single logout)

#### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API-—ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

- [ ] –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API —Å sessionId –≤ header
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

## –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü–æ–¥—Ö–æ–¥:

1. **–ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ** –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç-–∫–µ–π—Å–∞
2. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - —Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –ª–æ–≥–∏
3. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–∞–≥–æ–≤** –º–∏–Ω–∏–º—É–º 3 —Ä–∞–∑–∞
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è—Ö**

### –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è:

1. **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ** —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–±–∞–∑–æ–≤–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
2. **–í–∞–∂–Ω—ã–µ** —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å)
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ** —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, edge-–∫–µ–π—Å—ã)

### –ß–∞—Å—Ç–æ—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

- **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ—Å–ª–µ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º —Ä–µ–ª–∏–∑–æ–º
- **–í—ã–±–æ—Ä–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø–æ—Å–ª–µ –º–µ–ª–∫–∏—Ö –ø—Ä–∞–≤–æ–∫

–≠—Ç–æ—Ç –ø–ª–∞–Ω –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –æ–±–µ—Å–ø–µ—á–∏—Ç comprehensive testing –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º—ã —Å–µ—Å—Å–∏–π. –†–µ–∫–æ–º–µ–Ω–¥—É—é —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç–æ—Ç —á–µ–∫-–ª–∏—Å—Ç –∏ –æ—Ç–º–µ—á–∞—Ç—å –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ –º–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.

–¢—ã —É–∂–µ —Å–æ—Å—Ç–∞–≤–∏–ª –æ—á–µ–Ω—å –¥–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç üëç
–° —É—á—ë—Ç–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `SESSION_ARCHITECTURE.md` —è –±—ã –¥–æ–±–∞–≤–∏–ª –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤, —á—Ç–æ–±—ã –ø–æ–∫—Ä—ã—Ç—å **–æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–Ω–æ —Ç–≤–æ–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** (–≥–∏–±—Ä–∏–¥ PostgreSQL + Redis, fallback –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ö–µ–º–∞).

---

### üîÑ –§–æ–ª–±—ç–∫–∏ –∏ –≥–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis **—Å–µ—Å—Å–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ —á–∏—Ç–∞–µ—Ç—Å—è –∏–∑ PostgreSQL** (—á–µ—Ä–µ–∑ `sessions` —Ç–∞–±–ª–∏—Ü—É, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ `users.session_id`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ –∏–∑ Redis –æ–Ω–∞ –≤—Å—ë –µ—â—ë –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ PostgreSQL –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è TTL
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è Redis –Ω–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏ —Å–Ω–æ–≤–∞ –ø–∏—à—É—Ç—Å—è –≤ Redis

---

### üóÑÔ∏è PostgreSQL Sessions Table

- [ ] –í—Å—Ç–∞–≤–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ `sessions` –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `last_activity` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (`sessions_user_id_idx`, `sessions_expires_at_idx`) ‚Äî –∑–∞–ø—Ä–æ—Å—ã –±—ã—Å—Ç—Ä—ã–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ `revoked=true` ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
- [ ] –¢–µ—Å—Ç —Ä—É—á–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –≤ `sessions` ‚Üí –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Å—Å–∏–∏

---

### ‚ôªÔ∏è –ü—Ä–æ–¥–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏

- [ ] –í—ã–∑–æ–≤ `extendSession(sessionId, ttl)` —Ä–µ–∞–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç TTL –≤ Redis
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ `expires_at` –≤ PostgreSQL —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–µ–π—Å–∞, –∫–æ–≥–¥–∞ —Å–µ—Å—Å–∏—è —É–∂–µ –ø—Ä–æ—Ç—É—Ö–ª–∞ (extend –Ω–µ –¥–æ–ª–∂–µ–Ω –µ—ë –≤–æ–∑—Ä–æ–∂–¥–∞—Ç—å)

---

### üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π

- [ ] –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sessionId` –∏–∑ PostgreSQL –Ω–∞–ø—Ä—è–º—É—é –±–µ–∑ Redis (–µ—Å–ª–∏ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω) ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –≤ —Ä–µ–∂–∏–º–µ fallback
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ **session fixation**: —Å—Ç–∞—Ä—ã–π `sessionId` –Ω–µ –æ—Å—Ç–∞—ë—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º –ø–æ—Å–ª–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ª–æ–≥–∏–Ω–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ cookie –æ—á–∏—â–∞–µ—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –Ω–æ –∏ Redis/PG –æ—á–∏—â–µ–Ω—ã

---

### ‚öôÔ∏è Error Handling –∏ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è

- [ ] –û—Ç–∫–ª—é—á–∏—Ç—å PostgreSQL ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Redis —Ä–∞–±–æ—Ç–∞–µ—Ç (–Ω–æ –±–µ–∑ fallback –Ω–∞ mock –≤ `production`)
- [ ] –í–∫–ª—é—á–∏—Ç—å `FORCE_MOCK_MODE=true` ‚Üí —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–∏–∫–∞–∫–∏–µ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ –ø–∏—à—É—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)

---

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –ø–µ—Ä—Ñ–æ–º–∞–Ω—Å

- [ ] –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—é —Å–µ—Å—Å–∏–∏ **–ø—Ä–∏ –∫—ç—à–µ** (Redis) –∏ **–ø—Ä–∏ fallback** (PostgreSQL)
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç: 1000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ü–∏–π ‚Üí Redis —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, PostgreSQL –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–µ–µ

---

### üåç Environment Detection

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ–∫—Ä—É–∂–µ–Ω–∏–π:
  - `NODE_ENV=test` ‚Üí mock
  - `NODE_ENV=development` –±–µ–∑ –ë–î ‚Üí fallback –≤ mock
  - `NODE_ENV=production` –±–µ–∑ –ë–î/Redis ‚Üí –æ—à–∏–±–∫–∞ (–Ω–∏–∫–∞–∫–æ–≥–æ fallback)

---

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —Ç–≤–æ–π —á–µ–∫-–ª–∏—Å—Ç –±—É–¥–µ—Ç **–Ω–∞ 100% –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ**: Redis + PostgreSQL —Å fallback, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π `sessions` –∏ –ª–æ–≥–∏–∫–æ–π `extendSession`.

–•–æ—á–µ—à—å, —è —Å–¥–µ–ª–∞—é **—Å–≤–æ–¥–Ω—ã–π —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç**, –≥–¥–µ –æ–±—ä–µ–¥–∏–Ω—é —Ç–≤–æ–π –∏—Å—Ö–æ–¥–Ω—ã–π –ø–ª–∞–Ω –∏ –º–æ–∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç, –±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è?
