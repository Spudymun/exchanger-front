# Bundle Size Investigation Report

**–î–∞—Ç–∞:** 8 –∏—é–ª—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û  
**–ü–æ–¥—Ö–æ–¥:** 100% —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞, –±–µ–∑ –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–π

## üéØ –ö–ª—é—á–µ–≤—ã–µ –≤—ã–≤–æ–¥—ã

### –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ bundle size –ù–ï —Å–≤—è–∑–∞–Ω–æ —Å tRPC –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–§–∞–∫—Ç:** –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ tRPC –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω–µ –∏–∑–º–µ–Ω–∏–ª —Ä–∞–∑–º–µ—Ä bundle (1019 KB –¥–æ –∏ –ø–æ—Å–ª–µ).

### –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è: –ì–∏–±—Ä–∏–¥–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Next.js

**–î–æ–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–∫—Ç:** –ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –¥–≤–∞ —Ä–æ—É—Ç–µ—Ä–∞ Next.js:

- **App Router** (`/app` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è) - –¥–ª—è UI —Å—Ç—Ä–∞–Ω–∏—Ü
- **Pages Router** (`/pages/api` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è) - –¥–ª—è tRPC API endpoints

## üìä –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ bundle size

### –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö

- **Next.js Build Report** (–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- **bundle-stats.json** (–∫–∞—Å—Ç–æ–º–Ω—ã–π –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞)

### –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è

**–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä:** 1019 KB  
**–õ–∏–º–∏—Ç:** 800 KB  
**–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ:** 219 KB (27.4%)

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —á–∞–Ω–∫–∏ (–¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã)

**App Router Infrastructure:**

```
chunks/315-3d0c77654043910a.js - 46.3 KB (shared by all App routes)
chunks/87c73c54-eab462a54a80b147.js - 53.2 KB (shared by all App routes)
–ò—Ç–æ–≥–æ App Router shared: 101 KB
```

**Pages Router Infrastructure:**

```
chunks/framework-a306ef668059fb4f.js - 57.7 KB (React framework for Pages)
chunks/main-706df5615b6bdeb5.js - 32.3 KB (Pages Router runtime)
–ò—Ç–æ–≥–æ Pages Router shared: 92.3 KB
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è **–æ–±–µ** –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

## üîç –ü–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### App Router (UI):

```
/app/
‚îú‚îÄ‚îÄ (dashboard)/
‚îú‚îÄ‚îÄ [locale]/
‚îú‚îÄ‚îÄ layout.tsx
‚îú‚îÄ‚îÄ not-found.tsx
‚îî‚îÄ‚îÄ globals.css
```

### Pages Router (API —Ç–æ–ª—å–∫–æ):

```
/pages/
‚îî‚îÄ‚îÄ api/
    ‚îî‚îÄ‚îÄ trpc/
        ‚îî‚îÄ‚îÄ [trpc].ts  # tRPC API handler
```

### Middleware:

```
middleware.ts  # –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
```

## üìà –ê–Ω–∞–ª–∏–∑ –Ω–∞–≥—Ä—É–∑–∫–∏ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º

**–ò–∑ Next.js Build Report:**

```
Route (app)                    Size    First Load JS
‚îå ‚óã /                         2.15 kB      165 kB
‚îú ‚óã /_not-found                143 B       102 kB
‚îú ∆í /[locale]                  213 B       159 kB
‚îú ∆í /[locale]/dashboard        213 B       159 kB
‚îú ∆í /[locale]/trpc-demo      3.33 kB       189 kB
‚îî ‚óã /settings                  213 B       159 kB

Route (pages)                  Size    First Load JS
‚îÄ ∆í /api/trpc/[trpc]             0 B        92.3 kB
```

**–§–∞–∫—Ç:** –ö–∞–∂–¥–∞—è App route –∑–∞–≥—Ä—É–∂–∞–µ—Ç 101 KB shared —á–∞–Ω–∫–æ–≤, Pages API –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ 92.3 KB.

## üéØ –¢–æ—á–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è

### 1. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ React –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã

- App Router –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É React Server Components
- Pages Router –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å getServerSideProps
- –û–±–µ —Å–∏—Å—Ç–µ–º—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç —Å–≤–æ–∏ runtime –∫–æ–¥—ã

### 2. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ Next.js —Ä–æ—É—Ç–∏–Ω–≥–∞

- App Router: —Ñ–∞–π–ª–æ–≤—ã–π —Ä–æ—É—Ç–∏–Ω–≥ —Å –Ω–æ–≤—ã–º API
- Pages Router: —Ñ–∞–π–ª–æ–≤—ã–π —Ä–æ—É—Ç–∏–Ω–≥ —Å–æ —Å—Ç–∞—Ä—ã–º API
- –ö–∞–∂–¥–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∫–ª—é—á–∞–µ—Ç —Å–≤–æ–π —Ä–æ—É—Ç–µ—Ä –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ

### 3. –û—Ç–¥–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞

- App Router: Server Components + Client Components
- Pages Router: —Ç–æ–ª—å–∫–æ Client-side —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è API

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ App Router API Routes

**–í—ã–≥–æ–¥–∞:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ Pages Router (-92.3 KB)

```typescript
// –í–º–µ—Å—Ç–æ /pages/api/trpc/[trpc].ts
// –°–æ–∑–¥–∞—Ç—å /app/api/trpc/[trpc]/route.ts
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–í—ã–≥–æ–¥–∞:** –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

- Dynamic imports –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Code splitting –¥–ª—è demo —Å—Ç—Ä–∞–Ω–∏—Ü
- Tree shaking –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö exports

### –í–∞—Ä–∏–∞–Ω—Ç 3: Standalone API —Å–µ—Ä–≤–µ—Ä

**–í—ã–≥–æ–¥–∞:** –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ (-92.3 KB + —É–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)

- –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å tRPC –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ App Router –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## üìã –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ bundle size –Ω–∞ 219 KB –≤—ã–∑–≤–∞–Ω–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–∏–±—Ä–∏–¥–Ω—É—é —Å–∏—Å—Ç–µ–º—É Next.js —Å –¥–≤—É–º—è —Ä–æ—É—Ç–µ—Ä–∞–º–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.**

**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ tRPC –∫–ª–∏–µ–Ω—Ç–æ–≤ –±—ã–ª –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏, –Ω–æ –Ω–µ –≤–ª–∏—è–ª –Ω–∞ bundle size, —Ç–∞–∫ –∫–∞–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Ö–æ–¥–∏–ª–æ—Å—å –≤ –æ–±–ª–∞—Å—Ç–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã Next.js, –∞ –Ω–µ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–¥–µ.**

---

**–í—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ Next.js –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–º–µ—Ä–µ–Ω–∏—è–º–∏.**
