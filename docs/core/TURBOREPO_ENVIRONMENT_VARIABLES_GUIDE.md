# Turborepo Environment Variables Guide

> **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ** –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Turborepo –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–ø—ã—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ](#-—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ)
- [üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-–ø—Ä–∏–Ω—Ü–∏–ø—ã)
- [üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ .env](#-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤-env)
  - [‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
  - [‚ùå –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã](#-–∞–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
- [üîß Environment Modes –≤ Turborepo](#-environment-modes-–≤-turborepo)
  - [Strict Mode (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)](#strict-mode-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
  - [Loose Mode](#loose-mode)
- [‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è turbo.json](#Ô∏è-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-turbojson)
  - [globalEnv - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ](#globalenv---–≥–ª–æ–±–∞–ª—å–Ω—ã–µ-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
  - [env - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∑–∞–¥–∞—á](#env---–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–¥–ª—è-–∑–∞–¥–∞—á)
  - [Framework Inference](#framework-inference)
- [üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã](#-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã)
  - [Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](#nextjs-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
  - [Package —Å –æ–±—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏](#package-—Å-–æ–±—â–∏–º–∏-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏)
  - [CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ](#cicd-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
- [üö® –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏](#-—Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ-–æ—à–∏–±–∫–∏)
- [üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞](#-–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞-–∏-–æ—Ç–ª–∞–¥–∫–∞)
- [‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏](#-—á–µ–∫-–ª–∏—Å—Ç-–ø—Ä–æ–≤–µ—Ä–∫–∏)
- [üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã](#-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã)

---

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. **Package-First Approach** (–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)

> **üöÄ Turborepo –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** "Using a `.env` file at the root of the repository is not recommended. Instead, we recommend placing your `.env` files into the packages where they're used."

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

- –ú–æ–¥–µ–ª–∏—Ä—É–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ runtime –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏
- –£–ø—Ä–æ—â–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–µ–ø–ª–æ–π
- –ö–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–º–µ–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å—Ä–µ–¥—É

### 2. **Environment Isolation**

–ö–∞–∂–¥–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–º–µ—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Å—Ä–µ–¥—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

- `apps/web/.env` - —Ç–æ–ª—å–∫–æ –¥–ª—è web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `apps/admin/.env` - —Ç–æ–ª—å–∫–æ –¥–ª—è admin –ø–∞–Ω–µ–ª–∏
- `packages/` - –±–µ–∑ .env —Ñ–∞–π–ª–æ–≤ (–∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π)

### 3. **Security by Design**

- –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- –ü—É–±–ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`NEXT_PUBLIC_*`) —Ç–æ–ª—å–∫–æ –≥–¥–µ –Ω—É–∂–Ω—ã
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥—É–±–ª–∏—Ä—É—é—Ç—Å—è –ø–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üìÅ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ .env

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
monorepo/
‚îú‚îÄ‚îÄ .env                     # ‚ùå –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è (—Ç–æ–ª—å–∫–æ –¥–ª—è dev tools)
‚îú‚îÄ‚îÄ turbo.json              # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è env –¥–ª—è –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îú‚îÄ‚îÄ web/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .env            # ‚úÖ –í–°–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è web app
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .env.local      # ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–≤ .gitignore)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ .env.production # ‚úÖ Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ next.config.js  # ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ .env
‚îÇ   ‚îî‚îÄ‚îÄ admin/
‚îÇ       ‚îú‚îÄ‚îÄ .env            # ‚úÖ –í–°–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è admin app
‚îÇ       ‚îî‚îÄ‚îÄ next.config.js
‚îî‚îÄ‚îÄ packages/
    ‚îî‚îÄ‚îÄ shared/             # ‚ùå –ë–µ–∑ .env —Ñ–∞–π–ª–æ–≤
```

### ‚ùå –ê–Ω—Ç–∏–ø–∞—Ç—Ç–µ—Ä–Ω—ã

```bash
# ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï –¢–ê–ö:

# –ö–æ—Ä–Ω–µ–≤–æ–π .env —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
/.env
DATABASE_URL=...
NEXT_PUBLIC_API_URL=...

# –ü—É—Å—Ç—ã–µ .env –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
/apps/web/.env
# –ø—É—Å—Ç–æ –∏–ª–∏ —Ç–æ–ª—å–∫–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

# –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ next.config.js
loadEnvConfig(path.resolve(process.cwd(), '../..'))
```

---

## üîß Environment Modes –≤ Turborepo

### Strict Mode (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –¥–æ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ `turbo.json`
- –ó–∞–¥–∞—á–∏ –ø–∞–¥–∞—é—Ç –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –Ω–µ—É—á—Ç–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```json
{
  "envMode": "strict",
  "globalEnv": ["NODE_ENV", "CI"],
  "tasks": {
    "build": {
      "env": ["DATABASE_URL", "NEXT_PUBLIC_API_URL"]
    }
  }
}
```

### Loose Mode

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ú–∏–≥—Ä–∞—Ü–∏—è –≤ Turborepo
- –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –†–∞–∑–≤–∏—Ç–∏–µ/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**

```json
{
  "envMode": "loose"
}
```

**–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ runtime:**

```bash
turbo run build --env-mode=loose
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è turbo.json

### globalEnv - –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –≤–ª–∏—è—é—Ç –Ω–∞ **–≤—Å–µ** –∑–∞–¥–∞—á–∏:

```json
{
  "globalEnv": [
    "NODE_ENV", // –†–µ–∂–∏–º –æ–∫—Ä—É–∂–µ–Ω–∏—è
    "CI", // CI/CD —Ñ–ª–∞–≥
    "TURBOREPO_TOKEN" // –£–¥–∞–ª–µ–Ω–Ω–æ–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
  ]
}
```

### env - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∑–∞–¥–∞—á

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è **–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö** –∑–∞–¥–∞—á:

```json
{
  "tasks": {
    "build": {
      "env": [
        "DATABASE_URL",
        "REDIS_URL",
        "NEXT_PUBLIC_*" // Wildcards –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è
      ]
    },
    "test": {
      "env": ["TEST_DATABASE_URL"]
    },
    "lint": {
      // lint –Ω–µ —Ç—Ä–µ–±—É–µ—Ç env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
    }
  }
}
```

### Framework Inference

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è** –¥–ª—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤:

| –§—Ä–µ–π–º–≤–æ—Ä–∫ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã |
| --------- | ----------------------- |
| Next.js   | `NEXT_PUBLIC_*`         |
| Vite      | `VITE_*`                |
| Astro     | `PUBLIC_*`              |

**–û—Ç–∫–ª—é—á–µ–Ω–∏–µ Framework Inference:**

```json
{
  "tasks": {
    "build": {
      "env": ["!NEXT_PUBLIC_*"] // –ò—Å–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–∏–Ω—Ñ–µ—Ä–µ–Ω—Å
    }
  }
}
```

---

## üéØ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**apps/web/.env:**

```bash
# ===== INFRASTRUCTURE =====
DATABASE_URL="postgresql://user:pass@localhost:5432/db"
REDIS_URL="redis://localhost:6379"

# ===== AUTHENTICATION =====
NEXTAUTH_SECRET=your_secret_key
NEXTAUTH_URL=http://localhost:3000

# ===== PUBLIC VARIABLES =====
NEXT_PUBLIC_API_URL=http://localhost:3000/api
NEXT_PUBLIC_APP_NAME=Exchanger

# ===== DEVELOPMENT =====
NODE_ENV=development
DEBUG_MODE=true
```

**turbo.json:**

```json
{
  "envMode": "loose",
  "globalEnv": ["NODE_ENV"],
  "tasks": {
    "build": {
      "env": ["DATABASE_URL", "REDIS_URL", "NEXTAUTH_SECRET", "NEXTAUTH_URL"],
      "inputs": ["$TURBO_DEFAULT$", ".env"]
    },
    "dev": {
      "cache": false,
      "env": ["DEBUG_MODE"]
    }
  }
}
```

### Package —Å –æ–±—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**packages/ui** (–±–µ–∑ .env —Ñ–∞–π–ª–æ–≤):

```typescript
// –ò—Å–ø–æ–ª—å–∑—É—é—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const apiUrl = process.env.NEXT_PUBLIC_API_URL;
```

### CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

**–ö–æ—Ä–Ω–µ–≤–æ–π .env (—Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤):**

```bash
# ===== DEVELOPMENT TOOLS =====
TURBO_TOKEN=your_vercel_token
VERCEL_TOKEN=your_vercel_token

# ===== BUILD TOOLS =====
ANALYZE=false
```

---

## üö® –†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### 1. **–ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—Ä–Ω–µ–≤–æ–π .env –≤ Next.js**

```javascript
// ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï:
loadEnvConfig(path.resolve(process.cwd(), '../..'));

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
loadEnvConfig(process.cwd()); // Next.js —Å–∞–º –Ω–∞–π–¥–µ—Ç .env
```

### 2. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö**

```bash
# ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï:
# /.env
DATABASE_URL=postgres://...

# /apps/web/.env
DATABASE_URL=postgres://...  # –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ!

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –¢–æ–ª—å–∫–æ –≤ apps/web/.env
```

### 3. **–ù–µ—É—á—Ç–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Strict Mode**

```bash
# –û—à–∏–±–∫–∞: Variable 'MY_API_KEY' is not accounted for
```

**–†–µ—à–µ–Ω–∏–µ:**

```json
{
  "tasks": {
    "build": {
      "env": ["MY_API_KEY"] // –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
    }
  }
}
```

### 4. **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ runtime**

```json
// ‚ùå –ù–ï –î–ï–õ–ê–ô–¢–ï:
{
  "scripts": {
    "dev": "export MY_VAR=123 && next dev"
  }
}

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ .env —Ñ–∞–π–ª—ã
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Next.js
node -e "require('@next/env').loadEnvConfig('.'); console.log('DATABASE_URL:', process.env.DATABASE_URL);"
```

### –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Turborepo

```bash
# –ü–æ–¥—Ä–æ–±–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á
turbo run build --summarize

# –û—Ç–ª–∞–¥–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
turbo run build --env-mode=loose --dry-run
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

```typescript
// –í development —Ä–µ–∂–∏–º–µ
if (process.env.NODE_ENV === 'development') {
  console.log('Environment variables loaded:');
  console.log('DATABASE_URL:', process.env.DATABASE_URL ? 'loaded' : 'missing');
  console.log('REDIS_URL:', process.env.REDIS_URL ? 'loaded' : 'missing');
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ eslint-config-turbo

```bash
npm install --save-dev eslint-config-turbo
```

```json
// .eslintrc.json
{
  "extends": ["turbo"]
}
```

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–π–¥–µ—Ç –Ω–µ—É—á—Ç–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –∫–æ–¥–µ.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

- [ ] `.env` —Ñ–∞–π–ª—ã –≤ `apps/*/` –∞ –Ω–µ –≤ –∫–æ—Ä–Ω–µ
- [ ] –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏
- [ ] `.env.local` –≤ `.gitignore`
- [ ] –°–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –≥–¥–µ –Ω—É–∂–Ω—ã

### turbo.json –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- [ ] `envMode` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`strict` –∏–ª–∏ `loose`)
- [ ] `globalEnv` —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- [ ] `env` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏
- [ ] `.env` —Ñ–∞–π–ª—ã –≤ `inputs` –¥–ª—è build –∑–∞–¥–∞—á

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- [ ] Next.js –∑–∞–≥—Ä—É–∂–∞–µ—Ç .env –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ runtime
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] –°–µ–∫—Ä–µ—Ç—ã –Ω–µ –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [ ] Production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ—Ç–¥–µ–ª—å–Ω–æ
- [ ] CI/CD –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

### –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Turborepo Environment Variables](https://turbo.build/repo/docs/handbook/environment-variables)
- [Next.js Environment Variables](https://nextjs.org/docs/app/building-your-application/configuring/environment-variables)
- [12-Factor App Methodology](https://12factor.net/config)

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- [eslint-config-turbo](https://turbo.build/repo/docs/reference/eslint-config-turbo) - –ø–æ–∏—Å–∫ –Ω–µ—É—á—Ç–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- [dotenv](https://www.npmjs.com/package/dotenv) - –¥–ª—è custom –∑–∞–≥—Ä—É–∑–∫–∏ .env
- [@next/env](https://www.npmjs.com/package/@next/env) - –ø—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ .env

### –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

- [Turborepo Examples](https://github.com/vercel/turborepo/tree/main/examples)
- [Next.js + Turborepo](https://github.com/vercel/turborepo/tree/main/examples/with-nextjs)

---

## ü§ù –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

–ù–∞—à–ª–∏ –æ—à–∏–±–∫—É –∏–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç—å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ? –°–æ–∑–¥–∞–π—Ç–µ issue –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ PR.

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** –°–µ–Ω—Ç—è–±—Ä—å 2025  
**–í–µ—Ä—Å–∏—è Turborepo:** 2.x  
**–í–µ—Ä—Å–∏—è Next.js:** 15.x  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
