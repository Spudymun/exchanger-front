# üîç –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —É—Ä–æ–≤–Ω–µ–π

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 5 –∏—é–ª—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–ª—è –ª—é–±–æ–≥–æ —É—Ä–æ–≤–Ω—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ª—é–±–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

**–û—Å–Ω–æ–≤–∞:** CODE_REVIEW_PROTOCOLS.md + —Ä–µ–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ + —á–µ—Å—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

---

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

### –ß–µ—Å—Ç–Ω–∞—è —Å–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π:

- ü§ñ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:** —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –∏–º–ø–æ—Ä—Ç—ã, —Ä–∞–∑–º–µ—Ä—ã, —Ç–æ—á–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã (90-100% —Ç–æ—á–Ω–æ—Å—Ç—å)
- üß† **AI-assisted —á–µ—Ä–µ–∑ —á—Ç–µ–Ω–∏–µ:** —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è, –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (80-95% —Ç–æ—á–Ω–æ—Å—Ç—å)
- üë®‚Äçüíº **–≠–∫—Å–ø–µ—Ä—Ç–Ω–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:** —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –¥–æ–º–µ–Ω–Ω–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ (95-100% —Ç–æ—á–Ω–æ—Å—Ç—å)
- üéØ **–ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:** —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é —Å–∏—Å—Ç–µ–º—É

### –ö–ª—é—á–µ–≤—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏–∏:

1. **–¢—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∫—Ä—ã—Ç–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∞ + AI-assisted + —ç–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ = —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ 100%
2. **–í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∏–∑ CODE_REVIEW_PROTOCOLS.md —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è** —á–µ—Ä–µ–∑ AI-assisted —á—Ç–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
3. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –Ω–µ —Ç–µ—Ä—è–µ—Ç—Å—è** - AI —á–∏—Ç–∞–µ—Ç –≤—Å—é –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–≤—è–∑–µ–π
4. **–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è** - –æ—Ç 100% –∞–≤—Ç–æ–º–∞—Ç–∏–∫–∏ –¥–æ 100% —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞

---

## üîß –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≤–µ—Ä–∫–∏ —É—Ä–æ–≤–Ω—è

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞

```typescript
interface LevelAuditConfig {
  levelNumber: 1 | 2 | 3 | 4 | 5 | 6;
  files: string[];
  maxGroupSize: number; // –õ–∏–º–∏—Ç —Ñ–∞–π–ª–æ–≤ –≤ –≥—Ä—É–ø–ø–µ –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
  criteria: LevelCriteria; // –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∏–∑ CODE_REVIEW_PROTOCOLS.md
  dependencies: {
    imports: string[]; // –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤
    exports: string[]; // –ö—É–¥–∞ –º–æ–∂–µ—Ç —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
    forbidden: string[]; // –ó–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
  };
}

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —É—Ä–æ–≤–Ω—è –∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
function determineAuditStrategy(config: LevelAuditConfig): AuditStrategy {
  const totalFiles = config.files.length;

  if (totalFiles <= config.maxGroupSize) {
    return { type: 'full', groups: [config.files] };
  }

  return {
    type: 'grouped',
    groups: createLogicalGroups(config.files, config.maxGroupSize),
    requiresIntegration: true,
  };
}
```

### –§–∞–∑–∞ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –≥—Ä—É–ø–ø —Å —É—á–µ—Ç–æ–º —Ä–∞–∑–º–µ—Ä–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

````typescript
interface FileMetrics {
  path: string;
  linesOfCode: number;
  complexity: number;
  dependencies: string[];
  logicalDomain: string;
  criticalityLevel: 'critical' | 'important' | 'standard';
}

interface GroupLimits {
  maxFiles: number;
  maxTotalLines: number;
  maxComplexity: number;
  maxDependencies: number;
}

// –ß–ï–°–¢–ù–´–ï –ª–∏–º–∏—Ç—ã –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è—Ö AI
const AI_CONTEXT_LIMITS: GroupLimits = {
  maxFiles: 12, // –†–µ–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
  maxTotalLines: 3000, // –ú–∞–∫—Å–∏–º—É–º —Å—Ç—Ä–æ–∫ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
  maxComplexity: 100, // –°—É–º–º–∞—Ä–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –≥—Ä—É–ø–ø—ã
  maxDependencies: 50, // –ú–∞–∫—Å–∏–º—É–º —Å–≤—è–∑–µ–π –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
};

function createLogicalGroups(
  files: string[],
  levelConfig: LevelAuditConfig
): Promise<FileGroup[]> {
  return analyzeAndGroup(files, levelConfig);
}

async function analyzeAndGroup(
  files: string[],
  config: LevelAuditConfig
): Promise<FileGroup[]> {
  // 1. –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞
  const fileMetrics: FileMetrics[] = [];

  for (const file of files) {
    const metrics = await analyzeFileMetrics(file, config.levelNumber);
    fileMetrics.push(metrics);
  }

  // 2. –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å —É—á–µ—Ç–æ–º —Ä–∞–∑–º–µ—Ä–æ–≤
  const logicalGroups = groupByLogicalDomains(fileMetrics, config.levelNumber);

  // 3. –†–∞–∑–±–∏–≤–∫–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø
  const finalGroups = await splitOversizedGroups(logicalGroups, AI_CONTEXT_LIMITS);

  // 4. –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏
  validateGrouping(finalGroups, fileMetrics);

  return finalGroups;
}

async function analyzeFileMetrics(filePath: string, level: number): Promise<FileMetrics> {
  const content = await readFile(filePath);

  return {
    path: filePath,
    linesOfCode: countEffectiveLines(content),
    complexity: calculateComplexity(content, level),
    dependencies: extractDependencies(content),
    logicalDomain: determineLogicalDomain(filePath, content, level),
    criticalityLevel: assessCriticality(filePath, content, level),
  };
}

function groupByLogicalDomains(
  metrics: FileMetrics[],
  level: number
): Map<string, FileMetrics[]> {
  const groups = new Map<string, FileMetrics[]>();

  // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —É—Ä–æ–≤–Ω—è –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –¥–æ–º–µ–Ω—ã
  const domainRules = LEVEL_DOMAIN_RULES[level];

  for (const metric of metrics) {
    const domain = metric.logicalDomain;
    if (!groups.has(domain)) {
      groups.set(domain, []);
    }
    groups.get(domain)!.push(metric);
  }

  return groups;
}

async function splitOversizedGroups(
  logicalGroups: Map<string, FileMetrics[]>,
  limits: GroupLimits
): Promise<FileGroup[]> {
  const finalGroups: FileGroup[] = [];

  for (const [domain, files] of logicalGroups) {
    const groupMetrics = calculateGroupMetrics(files);

    if (isWithinLimits(groupMetrics, limits)) {
      // –ì—Ä—É–ø–ø–∞ –ø–æ–º–µ—â–∞–µ—Ç—Å—è –≤ –ª–∏–º–∏—Ç—ã
      finalGroups.push({
        name: domain,
        files: files.map(f => f.path),
        metrics: groupMetrics,
        splitStrategy: 'none',
      });
    } else {
      // –ì—Ä—É–ø–ø–∞ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –ª–∏–º–∏—Ç—ã - –Ω—É–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å
      const splitGroups = await intelligentSplit(files, limits, domain);
      finalGroups.push(...splitGroups);
    }
  }

  return finalGroups;
}

async function intelligentSplit(
  files: FileMetrics[],
  limits: GroupLimits,
  baseDomain: string
): Promise<FileGroup[]> {
  const groups: FileGroup[] = [];

  // –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω—ã–º —Ñ–∞–π–ª–∞–º
  const sorted = files.sort((a, b) => {
    const priorityOrder = { critical: 0, important: 1, standard: 2 };
    return priorityOrder[a.criticalityLevel] - priorityOrder[b.criticalityLevel];
  });

  let currentGroup: FileMetrics[] = [];
  let currentMetrics = initializeGroupMetrics();

  for (const file of sorted) {
    const wouldExceedLimits = wouldExceedGroupLimits(
      currentMetrics,
      file,
      limits
    );

    if (wouldExceedLimits && currentGroup.length > 0) {
      // –ó–∞–≤–µ—Ä—à–∞–µ–º —Ç–µ–∫—É—â—É—é –≥—Ä—É–ø–ø—É
      groups.push({
        name: `${baseDomain}_part_${groups.length + 1}`,
        files: currentGroup.map(f => f.path),
        metrics: currentMetrics,
        splitStrategy: 'by_complexity',
      });

      // –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
      currentGroup = [file];
      currentMetrics = fileToGroupMetrics(file);
    } else {
      currentGroup.push(file);
      currentMetrics = mergeMetrics(currentMetrics, file);
    }
  }

  // –î–æ–±–∞–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≥—Ä—É–ø–ø—É
  if (currentGroup.length > 0) {
    groups.push({
      name: `${baseDomain}_part_${groups.length + 1}`,
      files: currentGroup.map(f => f.path),
      metrics: currentMetrics,
      splitStrategy: groups.length === 0 ? 'none' : 'by_complexity',
    });
  }

  return groups;
}
// –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–º–µ–Ω–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
const LEVEL_DOMAIN_RULES = {
  1: { // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ç–∏–ø—ã
    domains: {
      'core-constants': ['constants/core', 'constants/business'],
      'ui-constants': ['constants/ui', 'constants/themes'],
      'api-constants': ['constants/api', 'constants/endpoints'],
      'core-types': ['types/core', 'types/business'],
      'api-types': ['types/api', 'types/dto'],
      'ui-types': ['types/ui', 'types/components'],
    },
    maxFilesPerDomain: 8, // –ö—Ä–∏—Ç–∏—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å - –º–∞–ª—ã–µ –≥—Ä—É–ø–ø—ã
    complexityWeights: { constant: 1, type: 2, enum: 1.5 },
  },

  2: { // –£—Ç–∏–ª–∏—Ç—ã –∏ core –ª–æ–≥–∏–∫–∞
    domains: {
      'data-utils': ['utils/data', 'utils/transform'],
      'validation-utils': ['utils/validation', 'validators'],
      'format-utils': ['utils/format', 'formatters'],
      'business-logic': ['core/business', 'core/calculations'],
      'data-managers': ['core/managers', 'core/services'],
    },
    maxFilesPerDomain: 10,
    complexityWeights: { function: 1, class: 3, method: 1.5 },
  },

  3: { // API —Å–ª–æ–π
    domains: {
      'auth-api': ['routers/auth', 'procedures/auth'],
      'business-api': ['routers/business', 'procedures/business'],
      'admin-api': ['routers/admin', 'procedures/admin'],
      'middleware': ['middleware', 'guards'],
      'schemas': ['schemas', 'validation'],
    },
    maxFilesPerDomain: 6, // –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ - –æ—á–µ–Ω—å –º–∞–ª—ã–µ –≥—Ä—É–ø–ø—ã
    complexityWeights: { procedure: 2, middleware: 3, schema: 1 },
  },

  4: { // –•—É–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    domains: {
      'stores': ['stores/auth', 'stores/business', 'stores/ui'],
      'enhanced-hooks': ['hooks/enhanced', 'hooks/business'],
      'selectors': ['selectors', 'derived'],
      'state-utils': ['hooks/utils', 'state/utils'],
    },
    maxFilesPerDomain: 8,
    complexityWeights: { store: 4, hook: 2, selector: 1 },
  },

  5: { // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    domains: {
      'ui-primitives': ['ui/primitives', 'ui/atoms'],
      'ui-molecules': ['ui/molecules', 'ui/compounds'],
      'business-components': ['components/business', 'components/features'],
      'layout-components': ['components/layout', 'components/structure'],
      'page-components': ['components/pages', 'app/'],
    },
    maxFilesPerDomain: 5, // –û—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    complexityWeights: { component: 3, hook: 2, style: 1 },
  },

  6: { // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    domains: {
      'build-config': ['webpack', 'vite', 'rollup', 'tsconfig'],
      'dev-config': ['eslint', 'prettier', 'jest', 'playwright'],
      'package-config': ['package.json', 'turbo.json'],
      'deployment-config': ['docker', 'nginx', 'vercel'],
    },
    maxFilesPerDomain: 4, // –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã
    complexityWeights: { config: 2, script: 1.5, dockerfile: 3 },
  },
};

function determineLogicalDomain(
  filePath: string,
  content: string,
  level: number
): string {
  const rules = LEVEL_DOMAIN_RULES[level];

  // –ê–Ω–∞–ª–∏–∑ –ø—É—Ç–∏ —Ñ–∞–π–ª–∞
  for (const [domain, patterns] of Object.entries(rules.domains)) {
    if (patterns.some(pattern => filePath.includes(pattern))) {
      return domain;
    }
  }

  // –ê–Ω–∞–ª–∏–∑ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –¥–æ–º–µ–Ω–∞
  return analyzeContentDomain(content, level);
}

function calculateComplexity(content: string, level: number): number {
  const rules = LEVEL_DOMAIN_RULES[level];
  let complexity = 0;

  // –ü–æ–¥—Å—á–µ—Ç —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
  const elements = analyzeCodeElements(content);

  for (const [type, count] of Object.entries(elements)) {
    const weight = rules.complexityWeights[type] || 1;
    complexity += count * weight;
  }

  return complexity;
}

function assessCriticality(
  filePath: string,
  content: string,
  level: number
): 'critical' | 'important' | 'standard' {
  // –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ —É—Ä–æ–≤–Ω—è–º
  const criticalPatterns = {
    1: ['constants/core', 'types/core', 'API_ENDPOINTS'],
    2: ['validation', 'core/business', 'security'],
    3: ['auth', 'middleware', 'security'],
    4: ['stores/auth', 'stores/core'],
    5: ['layout', 'error-boundary'],
    6: ['package.json', 'tsconfig', 'webpack'],
  };

  const levelPatterns = criticalPatterns[level] || [];

  if (levelPatterns.some(pattern =>
    filePath.includes(pattern) || content.includes(pattern)
  )) {
    return 'critical';
  }

  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏
  if (content.length > 1000 || filePath.includes('index.')) {
    return 'important';
  }

  return 'standard';
}

### –§–∞–∑–∞ 3: –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø–µ

```typescript
async function auditGroup(group: FileGroup, config: LevelAuditConfig): Promise<GroupAuditResult> {
  const results: GroupAuditResult = {
    groupName: group.name,
    files: group.files,
    violations: [],
    metrics: {},
    dependencies: [],
    redundancyReport: null, // –ù–û–í–û–ï: –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
  };

  // 1. –ü–†–ò–û–†–ò–¢–ï–¢: –ü–æ–∏—Å–∫ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ (Rule 20)
  const redundancyChecks = await runRedundancyAnalysis(group, config);
  results.violations.push(...redundancyChecks.violations);
  results.redundancyReport = redundancyChecks.report;

  // 2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  const automatedChecks = await runAutomatedChecks(group, config);
  results.violations.push(...automatedChecks.violations);

  // 3. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
  const structuralChecks = await runStructuralChecks(group, config);
  results.violations.push(...structuralChecks.violations);

  // 4. –ü—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  const dependencyChecks = await runDependencyChecks(group, config);
  results.violations.push(...dependencyChecks.violations);
  results.dependencies = dependencyChecks.dependencies;

  // 5. AI-assisted –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (–Ω–æ–≤—ã–π –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥)
  const aiAssistedChecks = await runAIAssistedVerification(group, config);
  results.violations.push(...aiAssistedChecks.violations);
  results.contextualInsights = aiAssistedChecks.insights;

  return results;
}

// –ù–û–í–ê–Ø —Å–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
async function runRedundancyAnalysis(
  group: FileGroup,
  config: LevelAuditConfig
): Promise<RedundancyAnalysisResult> {
  const violations: Violation[] = [];
  const report: RedundancyReport = {
    exactDuplicates: [],
    semanticSimilarities: [],
    functionalOverlaps: [],
    structuralRedundancies: [],
    centralizationOpportunities: [],
  };

  // 1. –ü–æ–∏—Å–∫ —Ç–æ—á–Ω—ã—Ö –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  const exactDuplicates = await findExactDuplicates(group.files);
  report.exactDuplicates = exactDuplicates;
  violations.push(...exactDuplicates.map(d => ({
    type: 'exact-duplicate',
    severity: 'critical',
    files: d.files,
    message: `Exact duplicate code found: ${d.codeFragment}`,
    redundancyLevel: 1.0,
  })));

  // 2. –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Ö–æ–∂–µ—Å—Ç–∏
  const semanticSimilarities = await findSemanticSimilarities(group.files, config.levelNumber);
  report.semanticSimilarities = semanticSimilarities;
  violations.push(...semanticSimilarities
    .filter(s => s.similarity > 0.8)
    .map(s => ({
      type: 'semantic-similarity',
      severity: s.similarity > 0.9 ? 'critical' : 'important',
      files: s.files,
      message: `High semantic similarity (${(s.similarity * 100).toFixed(1)}%): ${s.description}`,
      redundancyLevel: s.similarity,
    })));

  // 3. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è
  const functionalOverlaps = await findFunctionalOverlaps(group.files, config.levelNumber);
  report.functionalOverlaps = functionalOverlaps;
  violations.push(...functionalOverlaps.map(o => ({
    type: 'functional-overlap',
    severity: 'important',
    files: o.files,
    message: `Functional overlap detected: ${o.description}`,
    redundancyLevel: o.overlapPercentage,
  })));

  // 4. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏
  const structuralRedundancies = await findStructuralRedundancies(group.files);
  report.structuralRed—É–Ω–Ω–æ—Å—Ç–∏ = structuralRed—É–Ω–Ω–æ—Å—Ç–∏;
  violations.push(...structuralRed—É–Ω–¥–Ω–æ—Å—Ç–∏.map(r => ({
    type: 'structural-redundancy',
    severity: 'recommended',
    files: r.files,
    message: `Structural redundancy: ${r.pattern}`,
    redundancyLevel: r.redundancyLevel,
  })));

  // 5. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏–∏
  const centralizationOpportunities = await findCentralizationOpportunities(
    group.files,
    config.levelNumber
  );
  report.centralizationOpportunities = centralizationOpportunities;
  violations.push(...centralizationOpportunities.map(c => ({
    type: 'centralization-opportunity',
    severity: 'important',
    files: c.files,
    message: `Centralization opportunity: ${c.description}`,
    redundancyLevel: c.potentialSavings,
    recommendation: c.suggestion,
  })));

  return { violations, report };
}

// –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ —Ç–∏–ø–∞–º

async function findExactDuplicates(files: string[]): Promise<ExactDuplicate[]> {
  const duplicates: ExactDuplicate[] = [];
  const codeBlocks = new Map<string, string[]>(); // –∫–æ–¥ -> —Ñ–∞–π–ª—ã

  for (const file of files) {
    const content = await readFile(file);
    const blocks = extractCodeBlocks(content);

    for (const block of blocks) {
      const normalizedBlock = normalizeCode(block);
      if (normalizedBlock.length > 50) { // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –¥—É–±–ª–∏–∫–∞—Ç–∞
        if (!codeBlocks.has(normalizedBlock)) {
          codeBlocks.set(normalizedBlock, []);
        }
        codeBlocks.get(normalizedBlock)!.push(file);
      }
    }
  }

  // –ù–∞—Ö–æ–¥–∏–º –¥—É–±–ª–∏–∫–∞—Ç—ã
  for (const [code, filesList] of codeBlocks) {
    if (filesList.length > 1) {
      duplicates.push({
        codeFragment: code.substring(0, 100) + '...',
        files: filesList,
        linesCount: code.split('\n').length,
      });
    }
  }

  return duplicates;
}

async function findSemanticSimilarities(
  files: string[],
  level: number
): Promise<SemanticSimilarity[]> {
  const similarities: SemanticSimilarity[] = [];
  const analyzers = LEVEL_SEMANTIC_ANALYZERS[level];

  for (let i = 0; i < files.length; i++) {
    for (let j = i + 1; j < files.length; j++) {
      const file1 = files[i];
      const file2 = files[j];

      for (const analyzer of analyzers) {
        const similarity = await analyzer.compare(file1, file2);
        if (similarity.score > 0.7) { // –ü–æ—Ä–æ–≥ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π —Å—Ö–æ–∂–µ—Å—Ç–∏
          similarities.push({
            files: [file1, file2],
            similarity: similarity.score,
            description: similarity.description,
            analyzer: analyzer.name,
            elements: similarity.matchingElements,
          });
        }
      }
    }
  }

  return similarities;
}

async function findFunctionalOverlaps(
  files: string[],
  level: number
): Promise<FunctionalOverlap[]> {
  const overlaps: FunctionalOverlap[] = [];

  // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –¥–ª—è —É—Ä–æ–≤–Ω—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è
  const analyzers = LEVEL_FUNCTIONAL_ANALYZERS[level];

  for (const analyzer of analyzers) {
    const foundOverlaps = await analyzer.findOverlaps(files);
    overlaps.push(...foundOverlaps);
  }

  return overlaps;
}

// –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è
const LEVEL_SEMANTIC_ANALYZERS = {
  1: [ // –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ —Ç–∏–ø—ã
    new ConstantSemanticAnalyzer(),
    new TypeStructureAnalyzer(),
    new EnumValueAnalyzer(),
  ],
  2: [ // –£—Ç–∏–ª–∏—Ç—ã
    new FunctionSignatureAnalyzer(),
    new BusinessLogicAnalyzer(),
    new ValidationLogicAnalyzer(),
  ],
  3: [ // API
    new ProcedureAnalyzer(),
    new MiddlewareAnalyzer(),
    new SchemaAnalyzer(),
  ],
  4: [ // –•—É–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    new StoreStructureAnalyzer(),
    new HookLogicAnalyzer(),
    new SelectorAnalyzer(),
  ],
  5: [ // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
    new ComponentStructureAnalyzer(),
    new PropsAnalyzer(),
    new UILogicAnalyzer(),
  ],
  6: [ // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    new ConfigStructureAnalyzer(),
    new ScriptAnalyzer(),
    new DependencyAnalyzer(),
  ],
};

const LEVEL_FUNCTIONAL_ANALYZERS = {
  1: [
    new ConstantFunctionalAnalyzer(), // –ò—â–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
    new TypeFunctionalAnalyzer(),     // –ò—â–µ—Ç —Ç–∏–ø—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
  ],
  2: [
    new UtilityFunctionalAnalyzer(),  // –ò—â–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–µ—à–∞—é—â–∏–µ –æ–¥–Ω—É –∑–∞–¥–∞—á—É
    new ValidationFunctionalAnalyzer(), // –ò—â–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  ],
  3: [
    new APIFunctionalAnalyzer(),      // –ò—â–µ—Ç –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π
    new MiddlewareFunctionalAnalyzer(), // –ò—â–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è middleware
  ],
  4: [
    new StateFunctionalAnalyzer(),    // –ò—â–µ—Ç store —Å –ø–æ—Ö–æ–∂–µ–π –ª–æ–≥–∏–∫–æ–π
    new HookFunctionalAnalyzer(),     // –ò—â–µ—Ç —Ö—É–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é
  ],
  5: [
    new ComponentFunctionalAnalyzer(), // –ò—â–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º
    new UIFunctionalAnalyzer(),       // –ò—â–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â—É—é—Å—è UI –ª–æ–≥–∏–∫—É
  ],
  6: [
    new ConfigFunctionalAnalyzer(),   // –ò—â–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
  ],
};
````

### –§–∞–∑–∞ 4.5: üß† –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ù–ê–ô–î–ï–ù–ù–´–• –î–£–ë–õ–ò–ö–ê–¢–û–í

**–ü–†–û–ë–õ–ï–ú–ê:** –°–∏—Å—Ç–µ–º–∞ –Ω–∞—Ö–æ–¥–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥—É–±–ª–∏–∫–∞—Ç—ã, –Ω–æ –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏—Ö —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–π —Ü–µ–ª–µ—Å–æ–æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏.

**–†–ï–®–ï–ù–ò–ï:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Ñ–∞–∑–∞ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–∞.

```typescript
interface DuplicateAnalysisResult {
  duplicate: DetectedDuplicate;
  classification: DuplicateClassification;
  actionRecommendation: ActionRecommendation;
  costBenefitAnalysis: CostBenefitAnalysis;
  engineeringRisk: OverEngineeringRisk;
}

enum DuplicateClassification {
  // –î–ï–ô–°–¢–í–ò–ï –¢–†–ï–ë–£–ï–¢–°–Ø - –≤—Ä–µ–¥–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å
  HARMFUL_REDUNDANCY = 'harmful_redundancy', // –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç, —Ñ—É–Ω–∫—Ü–∏–π, –ª–æ–≥–∏–∫–∏
  ARCHITECTURAL_VIOLATION = 'architectural_violation', // –ù–∞—Ä—É—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  MAINTENANCE_BURDEN = 'maintenance_burden', // –£—Å–ª–æ–∂–Ω–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

  // –î–ï–ô–°–¢–í–ò–ï –ù–ï –¢–†–ï–ë–£–ï–¢–°–Ø - –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  NATURAL_PATTERN = 'natural_pattern', // –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ
  COMPONENT_STRUCTURE = 'component_structure', // –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  DOMAIN_SEPARATION = 'domain_separation', // –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º
  ABSTRACTION_APPROPRIATE = 'abstraction_appropriate', // –ü–æ–¥—Ö–æ–¥—è—â–∏–π —É—Ä–æ–≤–µ–Ω—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

  // –¢–†–ï–ë–£–ï–¢ –≠–ö–°–ü–ï–†–¢–ò–ó–´ - –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ —Å–ª—É—á–∞–∏
  EXPERT_DECISION_REQUIRED = 'expert_decision_required',
}

enum ActionRecommendation {
  CENTRALIZE_IMMEDIATELY = 'centralize_immediately', // –°—Ä–æ—á–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å
  REFACTOR_PLANNED = 'refactor_planned', // –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥
  MONITOR_GROWTH = 'monitor_growth', // –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–æ—Å—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  ACCEPT_AS_PATTERN = 'accept_as_pattern', // –ü—Ä–∏–Ω—è—Ç—å –∫–∞–∫ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
  NO_ACTION_REQUIRED = 'no_action_required', // –ù–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ –Ω—É–∂–Ω–æ
  EXPERT_CONSULTATION = 'expert_consultation', // –¢—Ä–µ–±—É–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–µ –º–Ω–µ–Ω–∏–µ
}

async function intelligentDuplicateAnalysis(
  detectedDuplicates: DetectedDuplicate[],
  context: ArchitecturalContext
): Promise<DuplicateAnalysisResult[]> {
  const results: DuplicateAnalysisResult[] = [];

  for (const duplicate of detectedDuplicates) {
    const analysis = await analyzeDuplicateInContext(duplicate, context);
    results.push(analysis);
  }

  return results;
}

async function analyzeDuplicateInContext(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<DuplicateAnalysisResult> {
  // 1. –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø: –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø –¥—É–±–ª–∏–∫–∞—Ç–∞
  const classification = await classifyDuplicate(duplicate, context);

  // 2. COST/BENEFIT –ê–ù–ê–õ–ò–ó: —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ vs –ø–æ–ª—å–∑–∞
  const costBenefit = await analyzeCostBenefit(duplicate, classification, context);

  // 3. –†–ò–°–ö OVER-ENGINEERING: –º–æ–∂–µ—Ç –ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≤—Ä–µ–¥–∏—Ç—å
  const engineeringRisk = await assessOverEngineeringRisk(duplicate, costBenefit, context);

  // 4. –§–ò–ù–ê–õ–¨–ù–ê–Ø –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–Ø: —á—Ç–æ –¥–µ–ª–∞—Ç—å —Å –¥—É–±–ª–∏–∫–∞—Ç–æ–º
  const recommendation = await generateActionRecommendation(
    classification,
    costBenefit,
    engineeringRisk
  );

  return {
    duplicate,
    classification,
    actionRecommendation: recommendation,
    costBenefitAnalysis: costBenefit,
    engineeringRisk,
  };
}

async function classifyDuplicate(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<DuplicateClassification> {
  // –í–†–ï–î–ù–ê–Ø –ò–ó–ë–´–¢–û–ß–ù–û–°–¢–¨ - —Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π
  if (await isHarmfulRedundancy(duplicate, context)) {
    return DuplicateClassification.HARMFUL_REDUNDANCY;
  }

  if (await violatesArchitecture(duplicate, context)) {
    return DuplicateClassification.ARCHITECTURAL_VIOLATION;
  }

  if (await createMaintenanceBurden(duplicate, context)) {
    return DuplicateClassification.MAINTENANCE_BURDEN;
  }

  // –ï–°–¢–ï–°–¢–í–ï–ù–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´ - –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É—é—Ç
  if (await isNaturalPattern(duplicate, context)) {
    return DuplicateClassification.NATURAL_PATTERN;
  }

  if (await isComponentStructure(duplicate, context)) {
    return DuplicateClassification.COMPONENT_STRUCTURE;
  }

  if (await isDomainSeparation(duplicate, context)) {
    return DuplicateClassification.DOMAIN_SEPARATION;
  }

  if (await isAppropriateAbstraction(duplicate, context)) {
    return DuplicateClassification.ABSTRACTION_APPROPRIATE;
  }

  // –ù–ï–û–î–ù–û–ó–ù–ê–ß–ù–´–ï –°–õ–£–ß–ê–ò - —Ç—Ä–µ–±—É—é—Ç —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—ã
  return DuplicateClassification.EXPERT_DECISION_REQUIRED;
}

// –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ï–ö–¢–û–†–´: –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –≤—Ä–µ–¥–Ω—É—é –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å

async function isHarmfulRedundancy(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<boolean> {
  // –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è utility —Ñ—É–Ω–∫—Ü–∏–∏
  if (await isDuplicateUtility(duplicate)) return true;

  // –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
  if (await isDuplicateBusinessLogic(duplicate)) return true;

  // –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  if (await isDuplicateValidation(duplicate)) return true;

  // –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ API handlers
  if (await isDuplicateAPIHandler(duplicate)) return true;

  // –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è constants —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
  if (await isDuplicateConstants(duplicate)) return true;

  return false;
}

async function violatesArchitecture(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<boolean> {
  // –ù–∞—Ä—É—à–µ–Ω–∏–µ Single Responsibility Principle
  if (await violatesSRP(duplicate, context)) return true;

  // –ù–∞—Ä—É—à–µ–Ω–∏–µ DRY principle –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö
  if (await violatesDRYCritically(duplicate, context)) return true;

  // –°–æ–∑–¥–∞–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
  if (await createsCyclicDependencies(duplicate, context)) return true;

  // –ù–∞—Ä—É—à–µ–Ω–∏–µ —É—Ä–æ–≤–Ω–µ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
  if (await violatesLayeredArchitecture(duplicate, context)) return true;

  return false;
}

// –ü–ê–¢–¢–ï–†–ù –î–ï–¢–ï–ö–¢–û–†–´: –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

async function isNaturalPattern(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<boolean> {
  // React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
  if (await isReactComponentPattern(duplicate)) return true;

  // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (MVC, Repository, etc.)
  if (await isStandardArchitecturalPattern(duplicate)) return true;

  // –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –≤ UI (FormField, Button patterns)
  if (await isUIPattern(duplicate)) return true;

  // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–æ—Ä–º
  if (await isFormPattern(duplicate)) return true;

  return false;
}

async function isComponentStructure(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<boolean> {
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
  if (duplicate.type === 'structural' && (await isReactComponentStructure(duplicate))) {
    return true;
  }

  // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã props/state
  if (await isPropsStatePattern(duplicate)) return true;

  // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ lifecycle –º–µ—Ç–æ–¥—ã
  if (await isLifecyclePattern(duplicate)) return true;

  return false;
}

async function isDomainSeparation(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<boolean> {
  // –†–∞–∑–Ω—ã–µ –±–∏–∑–Ω–µ—Å-–¥–æ–º–µ–Ω—ã —Ä–µ—à–∞—é—Ç –ø–æ—Ö–æ–∂–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ-—Ä–∞–∑–Ω–æ–º—É
  if (await isDifferentDomainsSimilarLogic(duplicate, context)) return true;

  // –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
  if (await isContextSpecificLogic(duplicate, context)) return true;

  return false;
}

// COST/BENEFIT –ê–ù–ê–õ–ò–ó

interface CostBenefitAnalysis {
  refactoringCost: RefactoringCost;
  expectedBenefit: RefactoringBenefit;
  riskLevel: RiskLevel;
  netValue: 'positive' | 'negative' | 'neutral';
  recommendation: string;
}

async function analyzeCostBenefit(
  duplicate: DetectedDuplicate,
  classification: DuplicateClassification,
  context: ArchitecturalContext
): Promise<CostBenefitAnalysis> {
  const cost = await calculateRefactoringCost(duplicate, context);
  const benefit = await calculateExpectedBenefit(duplicate, classification, context);
  const risk = await assessOverEngineeringRisk(duplicate, costBenefit, context);

  const netValue = determineNetValue(cost, benefit, risk);

  return {
    refactoringCost: cost,
    expectedBenefit: benefit,
    riskLevel: risk,
    netValue,
    recommendation: generateCostBenefitRecommendation(cost, benefit, risk, netValue),
  };
}

async function calculateRefactoringCost(
  duplicate: DetectedDuplicate,
  context: ArchitecturalContext
): Promise<RefactoringCost> {
  return {
    timeEstimate: await estimateTimeRequired(duplicate),
    complexityLevel: await assessRefactoringComplexity(duplicate),
    breakingChangesRisk: await assessBreakingChangesRisk(duplicate, context),
    testingRequired: await estimateTestingEffort(duplicate),
    documentationUpdates: await estimateDocumentationWork(duplicate),
  };
}

async function calculateExpectedBenefit(
  duplicate: DetectedDuplicate,
  classification: DuplicateClassification,
  context: ArchitecturalContext
): Promise<RefactoringBenefit> {
  return {
    maintenanceImprovement: await assessMaintenanceImprovement(duplicate, classification),
    codeQualityImprovement: await assessQualityImprovement(duplicate, classification),
    performanceGain: await assessPerformanceGain(duplicate),
    futureFlexibility: await assessFlexibilityGain(duplicate, context),
    teamProductivity: await assessProductivityGain(duplicate, classification),
  };
}

// –†–ò–°–ö OVER-ENGINEERING

interface OverEngineeringRisk {
  abstractionComplexity: 'low' | 'medium' | 'high';
  maintainabilityImpact: 'positive' | 'neutral' | 'negative';
  readabilityImpact: 'positive' | 'neutral' | 'negative';
  teamAdoptionDifficulty: 'easy' | 'medium' | 'difficult';
  overallRisk: 'low' | 'medium' | 'high' | 'critical';
  warnings: string[];
}

async function assessOverEngineeringRisk(
  duplicate: DetectedDuplicate,
  costBenefit: CostBenefitAnalysis,
  context: ArchitecturalContext
): Promise<OverEngineeringRisk> {
  const abstractionComplexity = await assessAbstractionComplexity(duplicate);
  const maintainabilityImpact = await assessMaintainabilityImpact(duplicate, costBenefit);
  const readabilityImpact = await assessReadabilityImpact(duplicate);
  const adoptionDifficulty = await assessTeamAdoptionDifficulty(duplicate, context);

  const overallRisk = calculateOverallRisk(
    abstractionComplexity,
    maintainabilityImpact,
    readabilityImpact,
    adoptionDifficulty
  );

  const warnings = generateOverEngineeringWarnings(
    duplicate,
    abstractionComplexity,
    maintainabilityImpact,
    readabilityImpact,
    adoptionDifficulty
  );

  return {
    abstractionComplexity,
    maintainabilityImpact,
    readabilityImpact,
    teamAdoptionDifficulty: adoptionDifficulty,
    overallRisk,
    warnings,
  };
}

function generateOverEngineeringWarnings(
  duplicate: DetectedDuplicate,
  abstractionComplexity: string,
  maintainabilityImpact: string,
  readabilityImpact: string,
  adoptionDifficulty: string
): string[] {
  const warnings: string[] = [];

  if (abstractionComplexity === 'high') {
    warnings.push('‚ö†Ô∏è –í—ã—Å–æ–∫–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–æ–∂–µ—Ç –∑–∞—Ç—Ä—É–¥–Ω–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–¥–∞');
  }

  if (maintainabilityImpact === 'negative') {
    warnings.push('‚ö†Ô∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–∂–µ—Ç —É—Ö—É–¥—à–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞');
  }

  if (readabilityImpact === 'negative') {
    warnings.push('‚ö†Ô∏è –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞');
  }

  if (adoptionDifficulty === 'difficult') {
    warnings.push('‚ö†Ô∏è –ö–æ–º–∞–Ω–¥–µ –±—É–¥–µ—Ç —Å–ª–æ–∂–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∫ –Ω–æ–≤–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏');
  }

  if (duplicate.similarity < 0.7) {
    warnings.push('‚ö†Ô∏è –ù–∏–∑–∫–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ - –≤–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ –Ω–µ –Ω–∞—Å—Ç–æ—è—â–∏–π –¥—É–±–ª–∏–∫–∞—Ç');
  }

  return warnings;
}

// –ì–ï–ù–ï–†–ê–¶–ò–Ø –§–ò–ù–ê–õ–¨–ù–´–• –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ô

async function generateActionRecommendation(
  classification: DuplicateClassification,
  costBenefit: CostBenefitAnalysis,
  engineeringRisk: OverEngineeringRisk
): Promise<ActionRecommendation> {
  // –í–†–ï–î–ù–ê–Ø –ò–ó–ë–´–¢–û–ß–ù–û–°–¢–¨ - –¥–µ–π—Å—Ç–≤–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
  if (classification === DuplicateClassification.HARMFUL_REDUNDANCY) {
    if (engineeringRisk.overallRisk === 'low' && costBenefit.netValue === 'positive') {
      return ActionRecommendation.CENTRALIZE_IMMEDIATELY;
    } else {
      return ActionRecommendation.REFACTOR_PLANNED;
    }
  }

  if (classification === DuplicateClassification.ARCHITECTURAL_VIOLATION) {
    return ActionRecommendation.CENTRALIZE_IMMEDIATELY; // –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã
  }

  if (classification === DuplicateClassification.MAINTENANCE_BURDEN) {
    if (costBenefit.netValue === 'positive') {
      return ActionRecommendation.REFACTOR_PLANNED;
    } else {
      return ActionRecommendation.MONITOR_GROWTH;
    }
  }

  // –ï–°–¢–ï–°–¢–í–ï–ù–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´ - –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —Ç—Ä–µ–±—É—é—Ç
  if (
    classification === DuplicateClassification.NATURAL_PATTERN ||
    classification === DuplicateClassification.COMPONENT_STRUCTURE ||
    classification === DuplicateClassification.DOMAIN_SEPARATION ||
    classification === DuplicateClassification.ABSTRACTION_APPROPRIATE
  ) {
    return ActionRecommendation.ACCEPT_AS_PATTERN;
  }

  // –ù–ï–û–î–ù–û–ó–ù–ê–ß–ù–´–ï –°–õ–£–ß–ê–ò
  if (classification === DuplicateClassification.EXPERT_DECISION_REQUIRED) {
    return ActionRecommendation.EXPERT_CONSULTATION;
  }

  // –í–´–°–û–ö–ò–ô –†–ò–°–ö OVER-ENGINEERING
  if (engineeringRisk.overallRisk === 'high' || engineeringRisk.overallRisk === 'critical') {
    return ActionRecommendation.NO_ACTION_REQUIRED;
  }

  // DEFAULT: —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç–∫—Å–ø–µ—Ä—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
  return ActionRecommendation.EXPERT_CONSULTATION;
}
```

---

## üìö –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ò–ú–ï–†–´ –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–ò –î–£–ë–õ–ò–ö–ê–¢–û–í

### ‚ùå –í–†–ï–î–ù–ê–Ø –ò–ó–ë–´–¢–û–ß–ù–û–°–¢–¨ - —Ç—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π

**–ü–†–ò–ú–ï–†: –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è utility —Ñ—É–Ω–∫—Ü–∏–∏**

```typescript
// –¶–ï–ù–¢–†–ê–õ–ò–ó–û–í–ê–¢–¨ –ù–ï–ú–ï–î–õ–ï–ù–ù–û
// File 1: formatCurrency() –∏ File 2: formatMoney() - –æ–¥–∏–Ω–∞–∫–æ–≤–∞—è –ª–æ–≥–∏–∫–∞
// –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø: HARMFUL_REDUNDANCY ‚Üí CENTRALIZE_IMMEDIATELY
```

**–ü–†–ò–ú–ï–†: –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏**

```typescript
// –¶–ï–ù–¢–†–ê–õ–ò–ó–û–í–ê–¢–¨ –ù–ï–ú–ï–î–õ–ï–ù–ù–û
// validateEmail() –≤ LoginForm –∏ isValidEmail() –≤ RegisterForm
// –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø: HARMFUL_REDUNDANCY ‚Üí CENTRALIZE_IMMEDIATELY
```

### ‚úÖ –ï–°–¢–ï–°–¢–í–ï–ù–ù–´–ï –ü–ê–¢–¢–ï–†–ù–´ - –æ—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å

**–ü–†–ò–ú–ï–†: React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞**

```typescript
// –ü–†–ò–ù–Ø–¢–¨ –ö–ê–ö –ü–ê–¢–¢–ï–†–ù
// LoginForm –∏ RegisterForm –∏–º–µ—é—Ç –ø–æ—Ö–æ–∂—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –Ω–æ —Ä–∞–∑–Ω—É—é –ª–æ–≥–∏–∫—É
// –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø: NATURAL_PATTERN ‚Üí ACCEPT_AS_PATTERN
// –û–ë–û–°–ù–û–í–ê–ù–ò–ï: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è React —Ñ–æ—Ä–º–∞, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤—Ä–µ–¥–∏—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏
```

**–ü–†–ò–ú–ï–†: –î–æ–º–µ–Ω–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ**

```typescript
// –ü–†–ò–ù–Ø–¢–¨ –ö–ê–ö –ü–ê–¢–¢–ï–†–ù
// validateAuthToken() –∏ validateAPIToken() - —Ä–∞–∑–Ω—ã–µ –¥–æ–º–µ–Ω—ã, —Ä–∞–∑–Ω—ã–µ —Å–µ–∫—Ä–µ—Ç—ã
// –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–Ø: DOMAIN_SEPARATION ‚Üí ACCEPT_AS_PATTERN
```

### üîç –ê–õ–ì–û–†–ò–¢–ú –ë–´–°–¢–†–û–ô –ö–õ–ê–°–°–ò–§–ò–ö–ê–¶–ò–ò

```typescript
const CLASSIFICATION_RULES = {
  CENTRALIZE_IMMEDIATELY: [
    '–û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–º–µ–Ω–∞–º–∏',
    '–ò–¥–µ–Ω—Ç–∏—á–Ω—ã–µ utility —Ñ—É–Ω–∫—Ü–∏–∏',
    '–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
  ],

  ACCEPT_AS_PATTERN: [
    'React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞',
    '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã',
    '–ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ñ–æ—Ä–º',
    'CRUD operations –≤ —Ä–∞–∑–Ω—ã—Ö –¥–æ–º–µ–Ω–∞—Ö',
  ],

  EXPERT_CONSULTATION: ['–ü–æ—Ö–æ–∂–∏–µ, –Ω–æ –Ω–µ –∏–¥–µ–Ω—Ç–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏', '–í–æ–∑–º–æ–∂–Ω—ã–µ –∫–∞–Ω–¥–∏–¥–∞—Ç—ã –Ω–∞ abstraction'],
};
```

### üö® –ü–†–ò–ó–ù–ê–ö–ò OVER-ENGINEERING

**–ö–†–ê–°–ù–´–ï –§–õ–ê–ì–ò:**

- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ —Å–ª–æ–∂–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è —Å–∫—Ä—ã–≤–∞–µ—Ç –≤–∞–∂–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- –ü–æ—Ö–æ–∂–µ—Å—Ç—å –∫–æ–¥–∞ < 80%
- –°–æ–∑–¥–∞–Ω–∏–µ abstraction —Ä–∞–¥–∏ abstraction

**–ó–û–õ–û–¢–û–ï –ü–†–ê–í–ò–õ–û:** –õ—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, —á–µ–º —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–¥–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é.

---

## üö® –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û–ï –ü–†–ê–í–ò–õ–û: –ò–ù–¢–ï–õ–õ–ï–ö–¢–£–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –†–ï–ó–£–õ–¨–¢–ê–¢–û–í

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Å–∏—Å—Ç–µ–º—ã –∞—É–¥–∏—Ç–∞

**–ü–†–û–ë–õ–ï–ú–ê:** –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞—É–¥–∏—Ç–∞ –±–µ–∑ –∞–Ω–∞–ª–∏–∑–∞ –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ over-engineering –∏ —É—Ö—É–¥—à–µ–Ω–∏—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.

**–†–ï–®–ï–ù–ò–ï:** –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–ê–Ø —Ñ–∞–∑–∞ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–∂–¥–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–∞.

### üîí –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π workflow

```typescript
// –ó–ê–ü–†–ï–©–ï–ù–û: –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
const auditResults = await runAudit();
// ‚ùå –°—Ä–∞–∑—É —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã - –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û!

// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
const auditResults = await runAudit();
const intelligentAnalysis = await intelligentDuplicateAnalysis(auditResults.duplicates, context);

// –§–∏–ª—å—Ç—Ä—É–µ–º —Ç–æ–ª—å–∫–æ actionable –¥—É–±–ª–∏–∫–∞—Ç—ã
const actionableViolations = intelligentAnalysis.filter(
  analysis =>
    analysis.actionRecommendation === ActionRecommendation.CENTRALIZE_IMMEDIATELY ||
    analysis.actionRecommendation === ActionRecommendation.REFACTOR_PLANNED
);

// –í—ã–¥–µ–ª—è–µ–º –ø—Ä–∏–Ω—è—Ç—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
const acceptedPatterns = intelligentAnalysis.filter(
  analysis => analysis.actionRecommendation === ActionRecommendation.ACCEPT_AS_PATTERN
);
```

### üéØ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–µ—Ä–µ–¥ –¥–µ–π—Å—Ç–≤–∏–µ–º

–ü–µ—Ä–µ–¥ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–æ–º –ª—é–±–æ–≥–æ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –¥—É–±–ª–∏–∫–∞—Ç–∞ –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Ç–≤–µ—Ç–∏—Ç—å:

1. **–≠—Ç–æ –≤—Ä–µ–¥–Ω–∞—è –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –∏–ª–∏ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω?**
2. **–£–ª—É—á—à–∏—Ç –ª–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏–ª–∏ —É—Ö—É–¥—à–∏—Ç?**
3. **–ù–µ –ø—Ä–∏–≤–µ–¥–µ—Ç –ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫ over-engineering?**
4. **–°–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–∏ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å –∫–æ–¥–∞?**
5. **–°—Ç–æ–∏—Ç –ª–∏ cost/benefit —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞?**

### ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏

**–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:**

- –ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤—Å–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –¥—É–±–ª–∏–∫–∞—Ç—ã
- –°—á–∏—Ç–∞—Ç—å –ª—é–±–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å—é
- –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–µ–∑ cost/benefit –∞–Ω–∞–ª–∏–∑–∞

**–ü–†–ê–í–ò–õ–¨–ù–û:**

- –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –¥—É–±–ª–∏–∫–∞—Ç –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –†–∞–∑–ª–∏—á–∞—Ç—å –≤—Ä–µ–¥–Ω—É—é –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø "–ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω, —á–µ–º —Å–æ–∑–¥–∞—Ç—å –≤—Ä–µ–¥–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é"
- –£—á–∏—Ç—ã–≤–∞—Ç—å impact –Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å

### üîë –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ê—É–¥–∏—Ç –Ω–∞—Ö–æ–¥–∏—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥—É–±–ª–∏–∫–∞—Ç—ã, –∞ –Ω–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
2. **–ù–µ –≤—Å–µ –¥—É–±–ª–∏–∫–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è**
3. **–ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–µ —è–≤–ª—è—é—Ç—Å—è –ø—Ä–æ–±–ª–µ–º–æ–π**
4. **Over-engineering —Ö—É–∂–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
5. **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å –≤–∞–∂–Ω–µ–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏**

---

**–ò–¢–û–ì:** –î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—É–¥–∏—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –û–ë–ù–ê–†–£–ñ–ï–ù–ò–Ø –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º, –∞ –Ω–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –ø—Ä—è–º—ã—Ö —É–∫–∞–∑–∞–Ω–∏–π –∫ –¥–µ–π—Å—Ç–≤–∏—é. –ö–∞–∂–¥—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å —É—á–µ—Ç–æ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –∏ best practices.
