# –£—Ä–æ–∫ 1.3: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–∞–∫–µ—Ç–æ–≤ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

> **üéØ –¶–µ–ª—å —É—Ä–æ–∫–∞**: –ü–æ–Ω—è—Ç—å –ª–æ–≥–∏–∫—É —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ –ø–∞–∫–µ—Ç—ã –∏ –∫–∞–∫ –æ–Ω–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

## üìñ –í–≤–µ–¥–µ–Ω–∏–µ

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞–∫ **–º–Ω–æ–≥–æ—ç—Ç–∞–∂–Ω–æ–µ –∑–¥–∞–Ω–∏–µ**:

- **–§—É–Ω–¥–∞–º–µ–Ω—Ç** (constants) - –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã** (utils, exchange-core) - –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ö–æ–º–Ω–∞—Ç—ã** (ui, hooks) - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥—É–ª–∏
- **–ö–≤–∞—Ä—Ç–∏—Ä—ã** (apps) - –≥–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ö–∞–∂–¥—ã–π "—ç—Ç–∞–∂" –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∏–∂–µ–ª–µ–∂–∞—â–∏–µ, –Ω–æ –Ω–µ –≤–µ—Ä—Ö–Ω–∏–µ.

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  –£—Ä–æ–≤–µ–Ω—å 4: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ  apps/web/      ‚îÇ
‚îÇ  apps/admin/    ‚îÇ  ‚Üê –ò—Å–ø–æ–ª—å–∑—É—é—Ç –≤—Å—ë –Ω–∏–∂–Ω–µ–µ
‚îÇ  apps/docs/     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  –£—Ä–æ–≤–µ–Ω—å 3: UI –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îÇ  packages/ui/   ‚îÇ
‚îÇ  packages/hooks/‚îÇ  ‚Üê –ò—Å–ø–æ–ª—å–∑—É—é—Ç —É—Ä–æ–≤–Ω–∏ 1-2
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  –£—Ä–æ–≤–µ–Ω—å 2: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ exchange-core/  ‚îÇ
‚îÇ packages/utils/ ‚îÇ  ‚Üê –ò—Å–ø–æ–ª—å–∑—É—é—Ç —É—Ä–æ–≤–µ–Ω—å 1
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  –£—Ä–æ–≤–µ–Ω—å 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç
‚îÇpackages/constants‚îÇ  ‚Üê –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üì¶ –î–µ—Ç–∞–ª—å–Ω—ã–π –æ–±–∑–æ—Ä –ø–∞–∫–µ—Ç–æ–≤

### üéØ –£—Ä–æ–≤–µ–Ω—å 1: –§—É–Ω–¥–∞–º–µ–Ω—Ç

#### `packages/constants/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã –¥–ª—è –≤—Å–µ—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç –ø—Ä–æ–µ–∫—Ç–∞

```typescript
// packages/constants/src/currencies.ts
export const CRYPTOCURRENCIES = ['BTC', 'ETH', 'USDT-TRC20', 'USDT-ERC20', 'TRX'] as const;

export const EXCHANGE_LIMITS = {
  BTC: { min: 0.001, max: 10 },
  ETH: { min: 0.01, max: 100 },
  'USDT-TRC20': { min: 10, max: 50000 },
} as const;
```

**–ü–æ—á–µ–º—É –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç?**

- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –û–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### üîß –£—Ä–æ–≤–µ–Ω—å 2: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

#### `packages/exchange-core/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ–±–º–µ–Ω–Ω–∏–∫–∞

```typescript
// packages/exchange-core/src/utils/calculations.ts
import { EXCHANGE_RATES, EXCHANGE_LIMITS } from '@repo/constants';

export function calculateUahAmount(cryptoAmount: number, currency: CryptoCurrency): number {
  const rate = EXCHANGE_RATES[currency];
  return cryptoAmount * rate;
}

export function isAmountWithinLimits(amount: number, currency: CryptoCurrency): boolean {
  const limits = EXCHANGE_LIMITS[currency];
  return amount >= limits.min && amount <= limits.max;
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:

```
packages/exchange-core/src/
‚îú‚îÄ‚îÄ types/           # –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ currency.ts
‚îÇ   ‚îú‚îÄ‚îÄ order.ts
‚îÇ   ‚îî‚îÄ‚îÄ user.ts
‚îú‚îÄ‚îÄ utils/           # –ë–∏–∑–Ω–µ—Å-—Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ calculations.ts
‚îÇ   ‚îú‚îÄ‚îÄ validation.ts
‚îÇ   ‚îî‚îÄ‚îÄ formatters.ts
‚îú‚îÄ‚îÄ services/        # –°–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ orderManager.ts
‚îÇ   ‚îî‚îÄ‚îÄ userManager.ts
‚îî‚îÄ‚îÄ data/           # –ú–æ–∫–∏ –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    ‚îî‚îÄ‚îÄ mockData.ts
```

#### `packages/utils/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

```typescript
// packages/utils/src/validation/schemas.ts
import { z } from 'zod';
import { CRYPTOCURRENCIES } from '@repo/constants';

export const securityEnhancedCreateOrderSchema = z.object({
  email: z.string().email().transform(sanitizeEmail),
  cryptoAmount: z.number().positive(),
  currency: z.enum(CRYPTOCURRENCIES),
  recipientData: z
    .object({
      cardNumber: z.string().optional(),
      bankDetails: z.string().optional(),
    })
    .optional(),
});
```

### üé® –£—Ä–æ–≤–µ–Ω—å 3: UI –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

#### `packages/ui/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```typescript
// packages/ui/src/components/forms/CurrencySelect.tsx
import { CRYPTOCURRENCIES, CURRENCY_NAMES } from '@repo/constants';
import { Select } from '../ui/Select';

interface CurrencySelectProps {
  value: string;
  onChange: (currency: string) => void;
}

export function CurrencySelect({ value, onChange }: CurrencySelectProps) {
  const options = CRYPTOCURRENCIES.map(currency => ({
    value: currency,
    label: CURRENCY_NAMES[currency]
  }));

  return (
    <Select
      value={value}
      onChange={onChange}
      options={options}
      placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞–ª—é—Ç—É"
    />
  );
}
```

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞ UI –ø–∞–∫–µ—Ç–∞**:

```
packages/ui/src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # –ë–∞–∑–æ–≤—ã–µ shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Select.tsx
‚îÇ   ‚îú‚îÄ‚îÄ forms/           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–æ—Ä–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CurrencySelect.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AmountInput.tsx
‚îÇ   ‚îú‚îÄ‚îÄ exchange/        # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–º–µ–Ω–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ExchangeCard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ layout/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫–µ—Ç–∞
‚îÇ       ‚îú‚îÄ‚îÄ Header.tsx
‚îÇ       ‚îî‚îÄ‚îÄ Footer.tsx
‚îú‚îÄ‚îÄ styles/              # CSS —Å—Ç–∏–ª–∏
‚îî‚îÄ‚îÄ lib/                # –£—Ç–∏–ª–∏—Ç—ã UI
```

#### `packages/hooks/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: React —Ö—É–∫–∏ –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –ª–æ–≥–∏–∫–∏

```typescript
// packages/hooks/src/business/useExchangeCalculation.ts
import { calculateUahAmount } from '@repo/exchange-core';
import { useState, useEffect } from 'react';

export function useExchangeCalculation(cryptoAmount: number, currency: CryptoCurrency) {
  const [uahAmount, setUahAmount] = useState(0);
  const [isCalculating, setIsCalculating] = useState(false);

  useEffect(() => {
    if (cryptoAmount > 0) {
      setIsCalculating(true);

      // –°–∏–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ —Ä–∞—Å—á–µ—Ç–∞
      setTimeout(() => {
        const calculated = calculateUahAmount(cryptoAmount, currency);
        setUahAmount(calculated);
        setIsCalculating(false);
      }, 300);
    }
  }, [cryptoAmount, currency]);

  return { uahAmount, isCalculating };
}
```

### üè¢ –£—Ä–æ–≤–µ–Ω—å 4: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### `apps/web/`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–µ web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

```typescript
// apps/web/src/components/exchange/ExchangeForm.tsx
import { CurrencySelect, AmountInput, Button } from '@repo/ui';
import { useExchangeCalculation } from '@repo/hooks';
import { CRYPTOCURRENCIES } from '@repo/constants';

export function ExchangeForm() {
  const [amount, setAmount] = useState(0);
  const [currency, setCurrency] = useState<CryptoCurrency>('BTC');

  const { uahAmount, isCalculating } = useExchangeCalculation(amount, currency);

  return (
    <form>
      <CurrencySelect value={currency} onChange={setCurrency} />
      <AmountInput value={amount} onChange={setAmount} />
      <div>–ü–æ–ª—É—á–∏—Ç–µ: {uahAmount} UAH</div>
      <Button disabled={isCalculating}>
        {isCalculating ? '–†–∞—Å—á–µ—Ç...' : '–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É'}
      </Button>
    </form>
  );
}
```

## üîó –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

### –ü—Ä–∞–≤–∏–ª–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

1. **–£—Ä–æ–≤–µ–Ω—å –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç –Ω–∏–∂–Ω–∏—Ö —É—Ä–æ–≤–Ω–µ–π**
2. **–ù–∏–∫–∞–∫–∏—Ö —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
3. **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –Ω–µ –∑–∞–≤–∏—Å—è—Ç –Ω–∏ –æ—Ç —á–µ–≥–æ**
4. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—ë**

### –ü—Ä–∏–º–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ package.json:

```json
// packages/ui/package.json
{
  "dependencies": {
    "@repo/constants": "*", // ‚úÖ –ú–æ–∂–Ω–æ - –Ω–∏–∂–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å
    "@repo/utils": "*", // ‚úÖ –ú–æ–∂–Ω–æ - —Ç–æ—Ç –∂–µ —É—Ä–æ–≤–µ–Ω—å
    "react": "^19.1.0" // ‚úÖ –ú–æ–∂–Ω–æ - –≤–Ω–µ—à–Ω—è—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
  }
}
```

```json
// packages/constants/package.json
{
  "dependencies": {
    // ‚ùå –ù–∏–∫–∞–∫–∏—Ö internal –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π!
    // –¢–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
  }
}
```

## üéØ –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞?

### 1. **–ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ—Å—Ç—å**

–ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:

- constants - –¥–∞–Ω–Ω—ã–µ
- utils - —Ñ—É–Ω–∫—Ü–∏–∏
- ui - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- apps - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 2. **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

```typescript
// –û–¥–∏–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–µ–∑–¥–µ
import { CurrencySelect } from '@repo/ui';

// –í web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
<CurrencySelect />

// –í –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
<CurrencySelect />

// –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
<CurrencySelect />
```

### 3. **–ò–∑–æ–ª—è—Ü–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π**

```bash
# –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –∫—É—Ä—Å–∞
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤:
# ‚úì packages/exchange-core (—Ä–∞—Å—á–µ—Ç—ã)
# ‚úì packages/ui (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)
# ‚úì apps/web (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
# ‚úì apps/admin (–∞–¥–º–∏–Ω–∫–∞)
```

### 4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**

```typescript
// –ö–∞–∂–¥—ã–π –ø–∞–∫–µ—Ç —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
// packages/exchange-core/__tests__/calculations.test.ts
import { calculateUahAmount } from '../src/utils/calculations';

test('should calculate UAH amount correctly', () => {
  const result = calculateUahAmount(1, 'BTC');
  expect(result).toBe(expected_value);
});
```

## üîç –ê–Ω–∞–ª–∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–æ–¥–∞

### –ü—Ä–∏–º–µ—Ä 1: –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```typescript
// 1. –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ constants
// packages/constants/src/currencies.ts
export const EXCHANGE_RATES = {
  BTC: 2500000, // 2.5M UAH –∑–∞ 1 BTC
  ETH: 90000,   // 90K UAH –∑–∞ 1 ETH
} as const;

// 2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
// packages/exchange-core/src/utils/calculations.ts
import { EXCHANGE_RATES } from '@repo/constants';

export function calculateUahAmount(amount: number, currency: CryptoCurrency) {
  return amount * EXCHANGE_RATES[currency];
}

// 3. –•—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É
// packages/hooks/src/business/useExchangeCalculation.ts
import { calculateUahAmount } from '@repo/exchange-core';

export function useExchangeCalculation(amount: number, currency: CryptoCurrency) {
  return useMemo(() => calculateUahAmount(amount, currency), [amount, currency]);
}

// 4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—É–∫
// packages/ui/src/components/exchange/ExchangePreview.tsx
import { useExchangeCalculation } from '@repo/hooks';

export function ExchangePreview({ amount, currency }) {
  const uahAmount = useExchangeCalculation(amount, currency);
  return <div>–ü–æ–ª—É—á–∏—Ç–µ: {uahAmount} UAH</div>;
}

// 5. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
// apps/web/src/components/ExchangeForm.tsx
import { ExchangePreview } from '@repo/ui';

export function ExchangeForm() {
  return (
    <form>
      <ExchangePreview amount={amount} currency={currency} />
    </form>
  );
}
```

### –ü—Ä–∏–º–µ—Ä 2: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≤–∞–ª—é—Ç—ã

```typescript
// –®–∞–≥ 1: –î–æ–±–∞–≤–ª—è–µ–º –≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
// packages/constants/src/currencies.ts
export const CRYPTOCURRENCIES = [
  'BTC',
  'ETH',
  'USDT-TRC20',
  'DOGE', // ‚Üê –ù–æ–≤–∞—è –≤–∞–ª—é—Ç–∞
] as const;

export const EXCHANGE_RATES = {
  // ... existing rates
  DOGE: 15, // ‚Üê –ö—É—Ä—Å DOGE
} as const;

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö!
// ‚úì –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ utils –æ–±–Ω–æ–≤–∏–ª–∞—Å—å
// ‚úì UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç DOGE
// ‚úì –†–∞—Å—á–µ—Ç—ã –≤–∫–ª—é—á–∞—é—Ç DOGE
// ‚úì –í—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç DOGE
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–Ω–∞–Ω–∏–π

1. **–í–æ–ø—Ä–æ—Å**: –ü–æ—á–µ–º—É `packages/constants` –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç `packages/ui`?

   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>

   Constants - —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (—É—Ä–æ–≤–µ–Ω—å 1), –∞ UI - —É—Ä–æ–≤–µ–Ω—å 3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Å–æ–∑–¥–∞–ª–∞ –±—ã —Ü–∏–∫–ª–∏—á–µ—Å–∫—É—é —Å–≤—è–∑—å –∏ –Ω–∞—Ä—É—à–∏–ª–∞ –ø—Ä–∏–Ω—Ü–∏–ø —Å–ª–æ–µ–≤: –Ω–∏–∂–Ω–∏–µ —É—Ä–æ–≤–Ω–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å –æ –≤–µ—Ä—Ö–Ω–∏—Ö.
   </details>

2. **–ó–∞–¥–∞—á–∞**: –ù–∞–π–¥–∏—Ç–µ –≤ –∫–æ–¥–µ –≥–¥–µ `packages/ui` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑ `packages/constants`:

   ```bash
   grep -r "@repo/constants" packages/ui/src/
   ```

3. **–í–æ–ø—Ä–æ—Å**: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –≤ `CRYPTOCURRENCIES`?

   <details>
   <summary>–û—Ç–≤–µ—Ç</summary>

   –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤—è—Ç—Å—è –≤—Å–µ –∑–∞–≤–∏—Å—è—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ utils, UI —Å–µ–ª–µ–∫—Ç—ã, —Ä–∞—Å—á–µ—Ç—ã –≤ exchange-core, –≤—Å–µ —Ñ–æ—Ä–º—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö. TypeScript –ø—Ä–æ–≤–µ—Ä–∏—Ç —Ç–∏–ø—ã –≤–æ –≤—Å–µ—Ö –º–µ—Å—Ç–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.
   </details>

## üöÄ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

**–ó–∞–¥–∞–Ω–∏–µ**: –ò—Å—Å–ª–µ–¥—É–π—Ç–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø–∞–∫–µ—Ç–æ–≤:

1. **–ò–∑—É—á–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:

   ```bash
   # –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ package.json –≤ –∫–∞–∂–¥–æ–º –ø–∞–∫–µ—Ç–µ
   find packages/ -name "package.json" -exec echo "=== {} ===" \; -exec cat {} \;
   ```

2. **–ù–∞–π–¥–∏—Ç–µ –∏–º–ø–æ—Ä—Ç—ã –º–µ–∂–¥—É –ø–∞–∫–µ—Ç–∞–º–∏**:

   ```bash
   # –ü–æ–∏—Å–∫ –≤—Å–µ—Ö @repo –∏–º–ø–æ—Ä—Ç–æ–≤
   grep -r "@repo/" packages/ --include="*.ts" --include="*.tsx" | head -20
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—É –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
   –ù–∞—Ä–∏—Å—É–π—Ç–µ —Å—Ö–µ–º—É –∫—Ç–æ –æ—Ç –∫–æ–≥–æ –∑–∞–≤–∏—Å–∏—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤.

4. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏**:

   ```bash
   # –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç constants
   grep -r "@repo/constants" packages/

   # –ù–∞–π–¥–∏—Ç–µ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è exchange-core
   grep -r "@repo/exchange-core" packages/ apps/
   ```

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞–º–∏

| –ü–æ–¥—Ö–æ–¥              | –ù–∞—à–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ | –ú–æ–Ω–æ–ª–∏—Ç              | –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã    |
| ------------------- | ---------------- | -------------------- | --------------- |
| –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ   | ‚úÖ –í—ã—Å–æ–∫–æ–µ       | ‚ùå –ù–∏–∑–∫–æ–µ            | ‚ùå –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ |
| –¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å    | ‚úÖ –°–∫–≤–æ–∑–Ω–∞—è      | ‚úÖ –í–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | ‚ùå –ù–µ—Ç          |
| –°–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ | ‚úÖ –ë—ã—Å—Ç—Ä–∞—è       | ‚úÖ –ë—ã—Å—Ç—Ä–∞—è           | ‚ùå –ú–µ–¥–ª–µ–Ω–Ω–∞—è    |
| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å    | ‚úÖ –•–æ—Ä–æ—à–∞—è       | ‚ùå –ü–ª–æ—Ö–∞—è            | ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è     |
| –°–ª–æ–∂–Ω–æ—Å—Ç—å           | ‚úÖ –£–º–µ—Ä–µ–Ω–Ω–∞—è     | ‚úÖ –ù–∏–∑–∫–∞—è            | ‚ùå –í—ã—Å–æ–∫–∞—è      |

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [–ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤](https://blog.cleancoder.com/uncle-bob/2014/09/19/MicroServicesAndJars.html)
- [Dependency Inversion Principle](https://docs.google.com/document/d/1Y1c2v3F4K5Z7k9X7Z4k5Z7k9X7Z4k5Z7k9X7Z4k5Z7k/edit)
- [–ù–∞—à–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](../../docs/core/ARCHITECTURE.md)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–∞–∂–¥–æ–≥–æ –ø–∞–∫–µ—Ç–∞](../../docs/core/PROJECT_STRUCTURE_MAP.md)

---

[‚Üê –£—Ä–æ–∫ 1.2](./lesson-1.2-turborepo-system.md) | [–£—Ä–æ–∫ 1.4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è ‚Üí](./lesson-1.4-setup-environment.md)
