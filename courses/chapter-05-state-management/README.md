# –ì–ª–∞–≤–∞ 5: –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è - Zustand + React Query

> **–¶–µ–ª—å –≥–ª–∞–≤—ã**: –ù–∞—É—á–∏—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–∑–¥–µ–ª—è—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

## üìñ –í–≤–µ–¥–µ–Ω–∏–µ

–í —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞:

- **UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (sidebar –æ—Ç–∫—Ä—ã—Ç/–∑–∞–∫—Ä—ã—Ç, active tab, form —Å–æ—Å—Ç–æ—è–Ω–∏—è) - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è Zustand
- **Server —Å–æ—Å—Ç–æ—è–Ω–∏–µ** (–¥–∞–Ω–Ω—ã–µ —Å API, –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è) - —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è React Query

–í –ø—Ä–æ–µ–∫—Ç–µ ExchangeGO –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥**: Zustand –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è + React Query (—á–µ—Ä–µ–∑ tRPC) –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≥–ª–∞–≤—ã

- [x] [–£—Ä–æ–∫ 5.1: Zustand –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è](./lesson-5.1-zustand-global-state.md)
- [x] [–£—Ä–æ–∫ 5.2: React Query –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å tRPC](./lesson-5.2-react-query-trpc-integration.md)
- [x] [–£—Ä–æ–∫ 5.3: –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ](./lesson-5.3-optimistic-updates-caching.md)
- [x] [–£—Ä–æ–∫ 5.4: –ü—Ä–∞–∫—Ç–∏–∫–∞ - —Å–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç](./lesson-5.4-practice-exchange-state.md)

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑—É—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —ç—Ç–æ–π –≥–ª–∞–≤—ã –≤—ã –±—É–¥–µ—Ç–µ:

- –ü–æ–Ω–∏–º–∞—Ç—å —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É UI –∏ Server —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- –°–æ–∑–¥–∞–≤–∞—Ç—å Zustand stores —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å tRPC –∏ React Query
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –ª—É—á—à–µ–≥–æ UX
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ

## ‚è±Ô∏è –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –∏–∑—É—á–µ–Ω–∏—è

**–û–±—â–µ–µ –≤—Ä–µ–º—è**: 4-5 —á–∞—Å–æ–≤

- –£—Ä–æ–∫ 5.1: 60 –º–∏–Ω—É—Ç
- –£—Ä–æ–∫ 5.2: 75 –º–∏–Ω—É—Ç
- –£—Ä–æ–∫ 5.3: 75 –º–∏–Ω—É—Ç
- –£—Ä–æ–∫ 5.4: 60 –º–∏–Ω—É—Ç (–ø—Ä–∞–∫—Ç–∏–∫–∞)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ ExchangeGO

### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

```typescript
// UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ (Zustand)
packages/hooks/src/state/
‚îú‚îÄ‚îÄ ui-store.ts           // Sidebar, modals, theme
‚îú‚îÄ‚îÄ exchange-store.ts     // Form —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –æ–±–º–µ–Ω–∞
‚îú‚îÄ‚îÄ notification-store.ts // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ alerts
‚îî‚îÄ‚îÄ trading-store.ts      // Trading interface —Å–æ—Å—Ç–æ—è–Ω–∏–µ

// Server —Å–æ—Å—Ç–æ—è–Ω–∏–µ (React Query + tRPC)
apps/web/src/server/trpc/routers/
‚îú‚îÄ‚îÄ exchange.ts          // API –¥–ª—è –æ–±–º–µ–Ω–∞ –≤–∞–ª—é—Ç
‚îú‚îÄ‚îÄ user/                // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
‚îî‚îÄ‚îÄ auth.ts             // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

1. **UI State ‚Üí Zustand**: –í—Å–µ —á—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
2. **Server State ‚Üí React Query**: –í—Å–µ —á—Ç–æ –∫–∞—Å–∞–µ—Ç—Å—è API
3. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ stores**: –û–¥–∏–Ω store –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–π –¥–æ–º–µ–Ω
4. **Type-safe**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
5. **DevTools**: Zustand DevTools –¥–ª—è debugging

## üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Zustand 4.x** - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π state manager
- **React Query 5.x** - server state management
- **tRPC** - type-safe API calls
- **Zustand DevTools** - –æ—Ç–ª–∞–¥–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Immer** - immutable updates (–≤—Å—Ç—Ä–æ–µ–Ω –≤ Zustand)

---

[‚Üê –ì–ª–∞–≤–∞ 4](../chapter-04-trpc-api/README.md) | [–£—Ä–æ–∫ 5.1 ‚Üí](./lesson-5.1-zustand-global-state.md)
