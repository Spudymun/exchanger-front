### –ü—É—Ç—å: apps/web/src/components/FloatingExchangeButton.tsx

**–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ (1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)**
Floating –∫–Ω–æ–ø–∫–∞ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–æ—Ä–º–µ –æ–±–º–µ–Ω–∞, –ø–æ—è–≤–ª—è—é—â–∞—è—Å—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –∫–æ–≥–¥–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –≤–∏–¥–∏–º–æ—Å—Ç–∏.

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (3‚Äì6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)**
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç —É–º–Ω—É—é floating –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ—Ä–º—ã –æ–±–º–µ–Ω–∞ –∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ñ–æ—Ä–º–∞ —Å–∫—Ä—ã—Ç–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏ useScrollVisibility –∏–∑ @repo/hooks –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ö—É–∫–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ñ–æ—Ä–º—ã –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–µ–π. –í–∫–ª—é—á–∞–µ—Ç —Å–∏—Å—Ç–µ–º—É –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏—è –≤–Ω–∏–º–∞–Ω–∏—è —Å pulse –∞–Ω–∏–º–∞—Ü–∏–µ–π, –∫–æ—Ç–æ—Ä–∞—è –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫ —Ñ–æ—Ä–º–µ –æ–±–º–µ–Ω–∞ —á–µ—Ä–µ–∑ scrollToRef —É—Ç–∏–ª–∏—Ç—É –∏–∑ @repo/utils —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ offset –∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç FloatingActionButton –∏–∑ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—ã —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å—Ç–∏–ª—è–º–∏ —Ç–µ–Ω–µ–π –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É.

**–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ / API (–≤—Å–µ –Ω–∞ 100%)**

- `export function FloatingExchangeButton()` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π floating –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- `useExchangeElementRef()` ‚Äî —Ö—É–∫ –ø–æ–∏—Å–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ —Ñ–æ—Ä–º—ã –æ–±–º–µ–Ω–∞ (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- `usePulseAnimation(isVisible)` ‚Äî —Ö—É–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è pulse –∞–Ω–∏–º–∞—Ü–∏–µ–π (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)

**–í—Ö–æ–¥—ã (expected inputs) / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –Ω–∞ 100%)**

- –ù–µ—Ç –ø—Ä—è–º—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–æ—Ä–º—É –æ–±–º–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–≤–æ–¥—ã –∏–∑ namespace 'HomePage.exchangeCalculator'
- –ò—â–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º: data-testid="hero-exchange-form", .hero-exchange-form, section form

**–í—ã—Ö–æ–¥—ã / –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–≤—Å–µ –Ω–∞ 100%)**

- –†–µ–Ω–¥–µ—Ä–∏—Ç floating –∫–Ω–æ–ø–∫—É —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º–∞ –Ω–µ –≤–∏–¥–Ω–∞
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫ —Ñ–æ—Ä–º–µ –æ–±–º–µ–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ
- –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç pulse –∞–Ω–∏–º–∞—Ü–∏—é —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –ø–æ—è–≤–ª–µ–Ω–∏—è
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç shadow —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ hover —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX

**–í–∑–∞–∏–º–æ—Å–≤—è–∑–∏ (–∫—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç / —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç) (–≤—Å–µ –Ω–∞ 100%)**

- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**: apps/web/app/[locale]/page.tsx –∫–∞–∫ floating —ç–ª–µ–º–µ–Ω—Ç
- **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç**: useScrollVisibility –∏–∑ @repo/hooks, FloatingActionButton –∏–∑ @repo/ui, scrollToRef –∏–∑ @repo/utils
- **–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç**: –≤–∏–¥–∏–º–æ—Å—Ç—å HeroExchangeForm –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç**: —Å DOM –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Å–∫—Ä–æ–ª–ª–∞ –∫ —Ñ–æ—Ä–º–µ –æ–±–º–µ–Ω–∞

**–î–æ–º–µ–Ω –¥–∞–Ω–Ω—ã—Ö / —Ç–∏–ø—ã (–≤—Å–µ –Ω–∞ 100%)**

```typescript
interface ScrollVisibilityOptions {
  threshold: number;
  rootMargin: string;
}

interface ScrollToOptions {
  behavior: 'smooth';
  block: 'center';
  offset: number;
}

type PulseType = 'attention';
type FloatingPosition = 'bottom-right';

const PULSE_DELAY_MS = 2000;
```

**–†–∏—Å–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫**: UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–µ–∑ sensitive –æ–ø–µ—Ä–∞—Ü–∏–π
- **DOM dependency**: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–ª–∏—á–∏—è —Ñ–æ—Ä–º—ã –æ–±–º–µ–Ω–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **Performance**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Intersection Observer —á–µ—Ä–µ–∑ useScrollVisibility
- **Memory leaks**: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤ –≤ useEffect

**–¢–µ—Å—Ç—ã / —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é**

- **Visibility —Ç–µ—Å—Ç—ã**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ—è–≤–ª–µ–Ω–∏—è/—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ
- **Animation —Ç–µ—Å—Ç—ã**: –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã pulse –∞–Ω–∏–º–∞—Ü–∏–∏
- **Scroll behavior —Ç–µ—Å—Ç—ã**: –ø–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫ —Ñ–æ—Ä–º–µ –æ–±–º–µ–Ω–∞
- **Element detection —Ç–µ—Å—Ç—ã**: –ø–æ–∏—Å–∫ —Ñ–æ—Ä–º—ã –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º

**–û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (low/medium/high)**
**MEDIUM** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ö—É–∫–∞–º–∏, DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ –∏ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏

**TODO / –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**

- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ö—É–∫–æ–≤ –∏–∑ @repo/hooks –∏ @repo/utils
- ‚úÖ –•–æ—Ä–æ—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –Ω–∞ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ç–∞–π–º–µ—Ä–æ–≤ –∏ memory leak prevention
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–æ–π FloatingActionButton
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å fallback –µ—Å–ª–∏ —Ñ–æ—Ä–º–∞ –æ–±–º–µ–Ω–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ haptic feedback –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
