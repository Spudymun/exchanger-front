### –ü—É—Ç—å: packages/utils/src/input-validation.ts

**–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ (1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)**
–°–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Zod —Å—Ö–µ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏.

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (3‚Äì6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)**
–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π —Å–æ–≥–ª–∞—Å–Ω–æ AC 5.1-5.4 —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö Zod —Å—Ö–µ–º. –í–∫–ª—é—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç React —Ö—É–∫–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–æ—Ä–º —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å exchange-core –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –≤–∞–ª—é—Ç –∏ —Å validation-schemas –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏. –†–∞–∑–¥–µ–ª—è–µ—Ç UI –ø—Ä–æ–≤–µ—Ä–∫–∏ (–ø—Ä–æ—Å—Ç—ã–µ regex) –∏ –±–∏–∑–Ω–µ—Å-–≤–∞–ª–∏–¥–∞—Ü–∏—é (Zod —Å—Ö–µ–º—ã).

**–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ / API (–≤—Å–µ –Ω–∞ 100%)**

- `validateNumericInput(event, currentValue, currency?)` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ —Å–∏–º–≤–æ–ª–æ–≤
- `formatInputValue(value, currency?)` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —Ç–æ—á–Ω–æ—Å—Ç–∏
- `useNumericInput(currency?)` - –±–∞–∑–æ–≤—ã–π —Ö—É–∫ –¥–ª—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π
- `validateCryptoAmountWithZod(value)` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∏–ø—Ç–æ—Å—É–º–º —á–µ—Ä–µ–∑ Zod
- `validateUahAmountWithZod(value)` - –≤–∞–ª–∏–¥–∞—Ü–∏—è UAH —Å—É–º–º —á–µ—Ä–µ–∑ Zod
- `useNumericInputWithZod(currency?, isCrypto?)` - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ö—É–∫ —Å Zod –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
- –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: `isNumericChar`, `hasDecimalPoint`, `countDecimalPlaces`, `getMaxDecimals`

**–í—Ö–æ–¥—ã (expected inputs) / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –Ω–∞ 100%)**

- `event: React.KeyboardEvent<HTMLInputElement>` - —Å–æ–±—ã—Ç–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- `currentValue: string` - —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è
- `currency?: string` - –∫–æ–¥ –≤–∞–ª—é—Ç—ã –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- `value: string` - —Å—Ç—Ä–æ–∫–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏/—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `isCrypto: boolean` - —Ñ–ª–∞–≥ —Ç–∏–ø–∞ –≤–∞–ª—é—Ç—ã –¥–ª—è Zod –≤–∞–ª–∏–¥–∞—Ü–∏–∏

**–í—ã—Ö–æ–¥—ã / –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–≤—Å–µ –Ω–∞ 100%)**

- `validateNumericInput` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `boolean` - —Ä–∞–∑—Ä–µ—à–µ–Ω –ª–∏ –≤–≤–æ–¥ —Å–∏–º–≤–æ–ª–∞
- `formatInputValue` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `string` - –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `useNumericInput` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç —Å `{ handleKeyDown, formatValue }`
- `validateCryptoAmountWithZod` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ isValid: boolean, error: string | null }`
- `validateUahAmountWithZod` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{ isValid: boolean, error: string | null }`
- `useNumericInputWithZod` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç —Å `validateWithZod`
- –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã: `event.preventDefault()` –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω–æ–º –≤–≤–æ–¥–µ

**–í–∑–∞–∏–º–æ—Å–≤—è–∑–∏ (–∫—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç / —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç) (–≤—Å–µ –Ω–∞ 100%)**

- **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏–∑**:
  - @repo/constants (DECIMAL_PRECISION)
  - @repo/exchange-core (getCurrencyDecimals, CryptoCurrency)
  - ./validation-schemas (cryptoAmountStringSchema, uahAmountStringSchema)
- **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏**:
  - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–æ—Ä–º –æ–±–º–µ–Ω–∞
  - –ü–æ–ª—è –≤–≤–æ–¥–∞ —Å—É–º–º
  - –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã –≤–∞–ª—é—Ç
- **–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑**: packages/utils/src/index.ts

**–î–æ–º–µ–Ω –¥–∞–Ω–Ω—ã—Ö / —Ç–∏–ø—ã (–≤—Å–µ –Ω–∞ 100%)**

```typescript
// –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞ —Å–∏–º–≤–æ–ª–æ–≤
const isValid = validateNumericInput(event, '123.45', 'BTC'); // boolean

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
const formatted = formatInputValue('123.456789', 'BTC'); // "123.45678900" (8 –∑–Ω–∞–∫–æ–≤ –¥–ª—è BTC)

// –ë–∞–∑–æ–≤—ã–π —Ö—É–∫
const { handleKeyDown, formatValue } = useNumericInput('ETH');

// Zod –≤–∞–ª–∏–¥–∞—Ü–∏—è
const cryptoResult = validateCryptoAmountWithZod('0.001');
// { isValid: true, error: null }

const uahResult = validateUahAmountWithZod('1000.50');
// { isValid: true, error: null }

// –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ö—É–∫
const { handleKeyDown, formatValue, validateWithZod } = useNumericInputWithZod('BTC', true);
```

**–†–∏—Å–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫**: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–µ–Ω –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤–≤–æ–¥–∞
- **Input validation**: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º —Å—É–º–º–∞–º
- **Precision control**: –≤–∞–∂–Ω–æ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ø–æ—Ç–µ—Ä–∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- **User experience**: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≤–≤–æ–¥–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ–π
- **Business logic**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Zod –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞–º

**–¢–µ—Å—Ç—ã / —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é**

- **Input validation —Ç–µ—Å—Ç—ã**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- **Precision —Ç–µ—Å—Ç—ã**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–µ—Å—è—Ç–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤
- **Currency-specific —Ç–µ—Å—Ç—ã**: –ø–æ–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –≤–∞–ª—é—Ç
- **Zod integration —Ç–µ—Å—Ç—ã**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å—Ö–µ–º–∞–º–∏
- **Hook —Ç–µ—Å—Ç—ã**: –ø–æ–≤–µ–¥–µ–Ω–∏–µ React —Ö—É–∫–æ–≤ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **Edge case —Ç–µ—Å—Ç—ã**: –≥—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –æ—à–∏–±–æ—á–Ω—ã–µ –≤–≤–æ–¥—ã

**–û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (low/medium/high)**
**HIGH** - —Å–ª–æ–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∏ React —Ö—É–∫–∞–º–∏

**TODO / –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**

- ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è UI –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç –∏ –∏—Ö —Ç–æ—á–Ω–æ—Å—Ç–∏
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—ã—Ö UI –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ Zod –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –£–¥–æ–±–Ω—ã–µ React —Ö—É–∫–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –∏ —Å—Ö–µ–º–∞–º–∏
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –≤–∞–ª—é—Ç
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ debounce –¥–ª—è Zod –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö
