### –ü—É—Ç—å: packages/utils/src/validation/schemas-composed.ts

**–ö—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ (1 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)**
–°–æ—Å—Ç–∞–≤–Ω—ã–µ Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –∫–æ–º–±–∏–Ω–∏—Ä—É—é—â–∏–µ –±–∞–∑–æ–≤—ã–µ —Å—Ö–µ–º—ã –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π.

**–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (3‚Äì6 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π)**
–ú–æ–¥—É–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–æ–∂–Ω—ã–µ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç –±–∞–∑–æ–≤—ã–µ —Å—Ö–µ–º—ã —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π —á–µ—Ä–µ–∑ Zod refine –º–µ—Ç–æ–¥—ã. –í–∫–ª—é—á–∞–µ—Ç —Å—Ö–µ–º—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤ —Å —É—Å–∏–ª–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π, —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª–µ–π —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É —Å—Ç–∞—Ä—ã–º –∏ –Ω–æ–≤—ã–º –ø–∞—Ä–æ–ª–µ–º, –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–º–ø–æ—Ä—Ç—ã –∏–∑ schemas-basic –∏ schemas-crypto –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞. –†–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ refine –º–µ—Ç–æ–¥—ã: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π, —Ä–∞–∑–ª–∏—á–∏—è —Å—Ç–∞—Ä–æ–≥–æ –∏ –Ω–æ–≤–æ–≥–æ –ø–∞—Ä–æ–ª—è, –Ω–∞–ª–∏—á–∏–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–≥–æ –ø–æ–ª—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è. –í–∫–ª—é—á–∞–µ—Ç placeholder –¥–ª—è async –≤–∞–ª–∏–¥–∞—Ü–∏–∏ crypto –∞–¥—Ä–µ—Å–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã.

**–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ / API (–≤—Å–µ –Ω–∞ 100%)**

- `export const createOrderEnhancedSchema` ‚Äî —Å—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ —Å —É—Å–∏–ª–µ–Ω–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- `export const changePasswordEnhancedSchema` ‚Äî —Å—Ö–µ–º–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è —Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- `export const createOrderWithAddressSchema` ‚Äî —Å—Ö–µ–º–∞ –∑–∞–∫–∞–∑–∞ —Å crypto –∞–¥—Ä–µ—Å–æ–º
- `export const updateUserProfileSchema` ‚Äî —Å—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–í—Ö–æ–¥—ã (expected inputs) / –ü–∞—Ä–∞–º–µ—Ç—Ä—ã (–≤—Å–µ –Ω–∞ 100%)**

- –°—Ö–µ–º—ã –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã - —ç—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç –±–∞–∑–æ–≤—ã–µ —Å—Ö–µ–º—ã –∏–∑ schemas-basic –∏ schemas-crypto

**–í—ã—Ö–æ–¥—ã / –ü–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–≤—Å–µ –Ω–∞ 100%)**

- –í–æ–∑–≤—Ä–∞—â–∞—é—Ç —Å–æ—Å—Ç–∞–≤–Ω—ã–µ Zod —Å—Ö–µ–º—ã —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –û–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —Å–ª–æ–∂–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é, —Ç–∞–∫ –∏ async –≤–∞–ª–∏–¥–∞—Ü–∏—é (placeholder)
- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö —á–µ—Ä–µ–∑ path —É–∫–∞–∑–∞–Ω–∏—è

**–í–∑–∞–∏–º–æ—Å–≤—è–∑–∏ (–∫—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç / —á—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç) (–≤—Å–µ –Ω–∞ 100%)**

- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤**: —Ñ–æ—Ä–º–∞—Ö —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–æ–≤, —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª–µ–π, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç**: –±–∞–∑–æ–≤—ã–µ —Å—Ö–µ–º—ã –∏–∑ schemas-basic (email, password, phone)
- **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç**: crypto —Å—Ö–µ–º—ã –∏–∑ schemas-crypto (amount, currency, address)
- **–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–∏–ø—ã**: CryptoCurrency –∏–∑ @repo/exchange-core
- **–ß–∞—Å—Ç—å**: —Å–∏—Å—Ç–µ–º—ã —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å—Ö–µ–º –≤–∞–ª–∏–¥–∞—Ü–∏–∏ utils –ø–∞–∫–µ—Ç–∞

**–î–æ–º–µ–Ω –¥–∞–Ω–Ω—ã—Ö / —Ç–∏–ø—ã (–≤—Å–µ –Ω–∞ 100%)**

```typescript
// –°—Ö–µ–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞
interface CreateOrderEnhanced {
  email: string;
  cryptoAmount: string;
  currency: string;
  recipientAddress: string;
}

// –°—Ö–µ–º–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
interface ChangePasswordEnhanced {
  currentPassword: string; // legacy schema
  newPassword: string; // enhanced schema
  confirmPassword: string;
}

// –°—Ö–µ–º–∞ –∑–∞–∫–∞–∑–∞ —Å –∞–¥—Ä–µ—Å–æ–º
interface CreateOrderWithAddress {
  email: string;
  cryptoAmount: string;
  currency: string;
}

// –°—Ö–µ–º–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
interface UpdateUserProfile {
  email?: string;
  phone?: string;
  firstName?: string;
  lastName?: string;
}

// Refine –ª–æ–≥–∏–∫–∞
type RefineFunction<T> = (data: T) => boolean;
type AsyncRefineFunction<T> = (data: T) => Promise<boolean>;
```

**–†–∏—Å–∫–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **Password validation**: –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–ª–∏—á–∏–π –ø–∞—Ä–æ–ª–µ–π
- **Async validation**: placeholder –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –Ω–µ–ø–æ–ª–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- **Business logic**: —Å–ª–æ–∂–Ω–∞—è refine –ª–æ–≥–∏–∫–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ—à–∏–±–∫–∏
- **Type safety**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç type assertions –¥–ª—è CryptoCurrency
- **Validation consistency**: –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –±–∞–∑–æ–≤—ã—Ö —Å—Ö–µ–º

**–¢–µ—Å—Ç—ã / —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–∫—Ä—ã—Ç–∏—é**

- **Composed validation —Ç–µ—Å—Ç—ã**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Å–æ—Å—Ç–∞–≤–Ω—ã—Ö —Å—Ö–µ–º
- **Refine logic —Ç–µ—Å—Ç—ã**: –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **Password change —Ç–µ—Å—Ç—ã**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
- **Profile update —Ç–µ—Å—Ç—ã**: –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- **Error path —Ç–µ—Å—Ç—ã**: –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø—É—Ç–µ–π –æ—à–∏–±–æ–∫ –≤ refine –º–µ—Ç–æ–¥–∞—Ö

**–û—Ü–µ–Ω–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ (low/medium/high)**
**MEDIUM** - —Å–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å refine –º–µ—Ç–æ–¥–∞–º–∏

**TODO / –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥**

- ‚úÖ –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –±–∞–∑–æ–≤—ã—Ö —Å—Ö–µ–º –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–ª–æ–∂–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —á–µ—Ä–µ–∑ refine –º–µ—Ç–æ–¥—ã
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –æ—à–∏–±–æ–∫ –¥–ª—è UX
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ legacy, —Ç–∞–∫ –∏ enhanced –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ –ì–∏–±–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å async –≤–∞–ª–∏–¥–∞—Ü–∏—é crypto –∞–¥—Ä–µ—Å–æ–≤
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ —Å—Ö–µ–º—ã
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É conditional validation
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —É–ª—É—á—à–∏—Ç—å type safety –¥–ª—è async refine —Ñ—É–Ω–∫—Ü–∏–π
