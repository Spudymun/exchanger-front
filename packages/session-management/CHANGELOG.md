# Changelog - @repo/session-management

–í—Å–µ –≤–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —ç—Ç–æ–º –ø–∞–∫–µ—Ç–µ –±—É–¥—É—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –∑–¥–µ—Å—å.

## [Unreleased] - 2025-09-24

### üÜï Added
- **MemorySessionAdapter**: –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π in-memory session adapter –¥–ª—è fallback –∫–æ–≥–¥–∞ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
  - Context-aware session storage (session:web:*, session:admin:*)
  - TTL –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–æ–π –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π  
  - Debug –º–µ—Ç–æ–¥—ã: `getStorageSize()`, `getAllSessions()`, `clearAll()`
  - –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å SessionAdapter –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

### üîß Changed  
- **UserManagerFactory.createSessionAdapter()**: –ó–∞–º–µ–Ω–µ–Ω –Ω–µ–ø–æ–ª–Ω—ã–π fallback –Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π MemorySessionAdapter
  - **–î–û**: –ó–∞–≥–ª—É—à–∫–∏ `{ async get() { return null; }, async set() { }, ... }`
  - **–ü–û–°–õ–ï**: `new MemorySessionAdapter(context)`
  - –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–ª–µ–º—É —Å –Ω–µ—Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–º–∏—Å—è —Å–µ—Å—Å–∏—è–º–∏ –≤ Turbopack —Ä–µ–∂–∏–º–µ

### üêõ Fixed
- **Turbopack + Redis**: –õ–æ–≥–∏–Ω —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Turbopack development —Ä–µ–∂–∏–º–µ  
  - –ö–æ–≥–¥–∞ ioredis –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ empty.js, gracefully –ø–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ MemorySessionAdapter
  - –°–µ—Å—Å–∏–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∏ –ø—Ä–æ–¥–ª–µ–≤–∞—é—Ç—Å—è
  - –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É web –∏ admin –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### üìö Documentation
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `docs/troubleshooting/turbopack-ioredis-leak.md`
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ MemorySessionAdapter –∏ workflow

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ
- **–ü—Ä–æ–±–ª–µ–º–∞**: –í Turbopack —Ä–µ–∂–∏–º–µ ioredis –∑–∞–º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ empty.js, fallback SessionAdapter –±—ã–ª –Ω–µ–ø–æ–ª–Ω—ã–º
- **–†–µ—à–µ–Ω–∏–µ**: MemorySessionAdapter —ç–º—É–ª–∏—Ä—É–µ—Ç Redis API —Å TTL –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤ JavaScript Map
- **–ö–æ–º–ø—Ä–æ–º–∏—Å—Å—ã**: –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ, –Ω–µ—Ç distributed access (–ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è development)

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏
- ‚úÖ Production —Ä–µ–∂–∏–º (Redis) —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ  
- ‚úÖ Mock —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ
- ‚úÖ Context-aware session prefixes —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –º–µ–∂–¥—É web/admin —Å–µ—Å—Å–∏—è–º–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è
- TTL –º–µ—Ö–∞–Ω–∏–∑–º –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- Graceful error handling –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis