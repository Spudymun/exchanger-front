{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Telegram Bot Test Scenarios",
  "description": "–ì–æ—Ç–æ–≤—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã Telegram –±–æ—Ç–∞",
  "version": "1.0.0",
  "scenarios": [
    {
      "name": "client-basic-flow",
      "description": "–ë–∞–∑–æ–≤—ã–π flow –∫–ª–∏–µ–Ω—Ç–∞: /start ‚Üí message ‚Üí rate limit",
      "userType": "client",
      "userId": 555555555,
      "username": "test_client",
      "steps": [
        {
          "action": "send_command",
          "command": "/start",
          "expectedResponse": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ExchangeGO!",
          "expectedStatus": 200
        },
        {
          "action": "send_command",
          "command": "/help",
          "expectedResponse": "–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–ù–µ –ø—Ä–∏—à–ª–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ –Ω–∞ –∫–æ—à–µ–ª–µ–∫",
          "expectedResponse": "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!",
          "expectedStatus": 200,
          "sideEffect": "–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 2",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 3",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 4",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 5",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 6 - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–æ rate limit",
          "expectedResponse": "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π",
          "expectedStatus": 200,
          "note": "Rate limit: 5 msg/min"
        }
      ]
    },
    {
      "name": "operator-basic-flow",
      "description": "–ë–∞–∑–æ–≤—ã–π flow –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞: /start ‚Üí /login ‚Üí /orders",
      "userType": "operator",
      "userId": 621882329,
      "username": "test_operator",
      "steps": [
        {
          "action": "send_command",
          "command": "/start",
          "expectedResponse": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ExchangeGO Bot!",
          "expectedStatus": 200
        },
        {
          "action": "send_command",
          "command": "/login",
          "expectedResponse": "–í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä",
          "expectedStatus": 200
        },
        {
          "action": "send_command",
          "command": "/orders",
          "expectedResponse": "–ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞—è–≤–∫–∏",
          "expectedStatus": 200
        }
      ]
    },
    {
      "name": "client-attempts-operator-commands",
      "description": "–ö–ª–∏–µ–Ω—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã",
      "userType": "client",
      "userId": 666666666,
      "username": "malicious_client",
      "steps": [
        {
          "action": "send_command",
          "command": "/login",
          "expectedResponse": "–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º",
          "expectedStatus": 200,
          "note": "–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω"
        },
        {
          "action": "send_command",
          "command": "/takeorder 123",
          "expectedResponse": "–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º",
          "expectedStatus": 200,
          "note": "–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω"
        },
        {
          "action": "send_command",
          "command": "/orders",
          "expectedResponse": "–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º",
          "expectedStatus": 200,
          "note": "–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω"
        }
      ]
    },
    {
      "name": "support-message-variations",
      "description": "–†–∞–∑–ª–∏—á–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–±—Ä–∞—â–µ–Ω–∏–π –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É",
      "userType": "client",
      "userId": 777777777,
      "username": "various_client",
      "steps": [
        {
          "action": "send_message",
          "message": "–ó–∞—è–≤–∫–∞ ID 12345 - –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–∞",
          "expectedStatus": 200
        },
        {
          "action": "wait",
          "seconds": 15
        },
        {
          "action": "send_message",
          "message": "–ü—Ä–æ—à–ª–æ —É–∂–µ 2 —á–∞—Å–∞, –∫–æ–≥–¥–∞ –ø–æ—Å—Ç—É–ø–∏—Ç?",
          "expectedStatus": 200
        },
        {
          "action": "wait",
          "seconds": 15
        },
        {
          "action": "send_message",
          "message": "–ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞: TRX..., —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤–∏—Å–∏—Ç",
          "expectedStatus": 200
        }
      ]
    },
    {
      "name": "rate-limit-recovery",
      "description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ rate limit (1 –º–∏–Ω—É—Ç–∞)",
      "userType": "client",
      "userId": 888888888,
      "username": "rate_test_client",
      "steps": [
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 1",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 2",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 3",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 4",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 5",
          "expectedStatus": 200
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ 6 - rate limit",
          "expectedResponse": "–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π",
          "expectedStatus": 200
        },
        {
          "action": "wait",
          "seconds": 60,
          "note": "–û–∂–∏–¥–∞–Ω–∏–µ —Å–±—Ä–æ—Å–∞ rate limit"
        },
        {
          "action": "send_message",
          "message": "–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ–∂–∏–¥–∞–Ω–∏—è - –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–π—Ç–∏",
          "expectedStatus": 200,
          "note": "Rate limit –¥–æ–ª–∂–µ–Ω —Å–±—Ä–æ—Å–∏—Ç—å—Å—è"
        }
      ]
    },
    {
      "name": "operator-takeorder-flow",
      "description": "–û–ø–µ—Ä–∞—Ç–æ—Ä –±–µ—Ä–µ—Ç –∑–∞—è–≤–∫—É –≤ —Ä–∞–±–æ—Ç—É (—Ç—Ä–µ–±—É–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –∑–∞—è–≤–∫—É)",
      "userType": "operator",
      "userId": 621882329,
      "username": "active_operator",
      "prerequisites": "–î–æ–ª–∂–Ω–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –∑–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ PENDING",
      "steps": [
        {
          "action": "send_command",
          "command": "/login",
          "expectedStatus": 200
        },
        {
          "action": "send_command",
          "command": "/takeorder ORDER_ID_HERE",
          "expectedResponse": "–ó–∞—è–≤–∫–∞ –≤–∑—è—Ç–∞ –≤ —Ä–∞–±–æ—Ç—É",
          "expectedStatus": 200,
          "note": "–ó–∞–º–µ–Ω–∏—Ç–µ ORDER_ID_HERE –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π ID –∑–∞—è–≤–∫–∏"
        },
        {
          "action": "send_command",
          "command": "/orders",
          "expectedResponse": "–≤ —Ä–∞–±–æ—Ç–µ",
          "expectedStatus": 200
        }
      ]
    },
    {
      "name": "concurrent-clients",
      "description": "–ù–µ—Å–∫–æ–ª—å–∫–æ –∫–ª–∏–µ–Ω—Ç–æ–≤ –ø–∏—à—É—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ",
      "type": "batch",
      "clients": [
        {
          "userId": 111111111,
          "username": "client_1",
          "message": "–ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞—è–≤–∫–æ–π –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ 1"
        },
        {
          "userId": 222222222,
          "username": "client_2",
          "message": "–í–æ–ø—Ä–æ—Å –ø–æ –æ–±–º–µ–Ω—É –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ 2"
        },
        {
          "userId": 333333333,
          "username": "client_3",
          "message": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–±–ª–µ–º–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ 3"
        }
      ],
      "expectedBehavior": "–í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å 3 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è",
      "note": "–°–∏–º—É–ª—è—Ü–∏—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π"
    }
  ],
  "testData": {
    "sampleMessages": [
      "–ù–µ –ø—Ä–∏—à–ª–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ –Ω–∞ –∫–æ—à–µ–ª–µ–∫",
      "–ó–∞—è–≤–∫–∞ –≤–∏—Å–∏—Ç —É–∂–µ 2 —á–∞—Å–∞, —á—Ç–æ –¥–µ–ª–∞—Ç—å?",
      "–ê–¥—Ä–µ—Å TRX –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç",
      "–ö–∞–∫ –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞—è–≤–∫—É?",
      "–ü—Ä–æ–±–ª–µ–º–∞ —Å –∫–∞—Ä—Ç–æ–π, –¥–µ–Ω—å–≥–∏ –Ω–µ –ø–æ—Å—Ç—É–ø–∏–ª–∏",
      "Exchange rate –∏–∑–º–µ–Ω–∏–ª—Å—è, —Ö–æ—á—É –æ—Ç–º–µ–Ω–∏—Ç—å",
      "–ö–æ–≥–¥–∞ –ø–æ—Å—Ç—É–ø–∏—Ç –ø–µ—Ä–µ–≤–æ–¥?",
      "ID –∑–∞—è–≤–∫–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ email",
      "–ù–µ –º–æ–≥—É –Ω–∞–π—Ç–∏ —Å–≤–æ—é –∑–∞—è–≤–∫—É",
      "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏"
    ],
    "operatorCommands": [
      "/start",
      "/help",
      "/login",
      "/orders",
      "/takeorder 12345"
    ],
    "clientCommands": [
      "/start",
      "/help"
    ],
    "authorizedOperators": [
      621882329,
      8068430102
    ]
  },
  "expectedResponses": {
    "client": {
      "start": "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–ª—É–∂–±—É –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ExchangeGO!",
      "help": "üìã –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø–æ–º–æ—â—å:",
      "message_received": "‚úÖ –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ!",
      "rate_limit": "‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π",
      "operator_command_denied": "‚ùå –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º"
    },
    "operator": {
      "start": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ ExchangeGO Bot! üëã",
      "login_success": "‚úÖ –í—ã –≤–æ—à–ª–∏ –∫–∞–∫ –æ–ø–µ—Ä–∞—Ç–æ—Ä!",
      "login_denied": "‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω",
      "order_taken": "‚úÖ –ó–∞—è–≤–∫–∞ –≤–∑—è—Ç–∞ –≤ —Ä–∞–±–æ—Ç—É!",
      "order_not_found": "‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –≤–∑—è—Ç—å –∑–∞—è–≤–∫—É"
    }
  },
  "notes": [
    "–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è operator flow –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ID –∏–∑ AUTHORIZED_TELEGRAM_OPERATORS",
    "Rate limit —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ 60 —Å–µ–∫—É–Ω–¥",
    "–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤",
    "–í—Å–µ webhook –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 200 OK",
    "–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ test-telegram-bot.ps1 –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"
  ]
}
