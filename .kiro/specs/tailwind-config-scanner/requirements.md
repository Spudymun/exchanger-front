# Requirements Document: TailwindConfigScanner

## Introduction

TailwindConfigScanner - это новый специализированный сканер для автоматической проверки конфигураций Tailwind CSS в монорепозитории. Сканер предназначен для выявления проблем с `content` путями, которые могут приводить к неработающим стилям и проблемам с отображением компонентов.

**Контекст проблемы**: В проекте exchanger-front возникали проблемы с неправильной работой header из-за проблем конфигурации Tailwind CSS. Существующий style-scanner анализирует использование стилей, но не проверяет корректность самих конфигураций Tailwind.

## Requirements

### Requirement 1: Обнаружение конфигураций Tailwind

**User Story:** Как разработчик, я хочу автоматически находить все файлы конфигурации Tailwind в проекте, чтобы проверить их корректность.

#### Acceptance Criteria

1. WHEN сканер запускается THEN система SHALL найти все файлы `tailwind.config.{js,cjs,ts,mjs}` в проекте
2. WHEN найдены конфигурации THEN система SHALL исключить файлы в `node_modules`
3. WHEN найдены конфигурации THEN система SHALL поддерживать как корневые, так и app-specific конфигурации
4. WHEN конфигурация использует preset THEN система SHALL анализировать как preset, так и локальную конфигурацию

### Requirement 2: Валидация content путей

**User Story:** Как разработчик, я хочу проверить что все пути в `content` массиве соответствуют реальным файлам, чтобы избежать проблем с неработающими стилями.

#### Acceptance Criteria

1. WHEN анализируется конфигурация THEN система SHALL проверить каждый путь в `content` массиве
2. WHEN путь не существует THEN система SHALL создать ошибку типа "dead_path"
3. WHEN путь является glob паттерном THEN система SHALL проверить что паттерн находит файлы
4. WHEN glob паттерн не находит файлы THEN система SHALL создать предупреждение типа "empty_glob"
5. WHEN путь относительный THEN система SHALL разрешить его относительно конфигурационного файла

### Requirement 3: Обнаружение пропущенных файлов

**User Story:** Как разработчик, я хочу найти файлы с Tailwind классами, которые не включены в `content`, чтобы убедиться что все стили будут работать.

#### Acceptance Criteria

1. WHEN сканер анализирует проект THEN система SHALL найти все файлы с расширениями `.tsx`, `.jsx`, `.ts`, `.js`
2. WHEN найден файл с Tailwind классами THEN система SHALL проверить включен ли он в `content` конфигурации
3. WHEN файл не включен в `content` THEN система SHALL создать предупреждение типа "missing_file"
4. WHEN файл содержит `className` с Tailwind классами THEN система SHALL считать его релевантным
5. WHEN файл в `node_modules` THEN система SHALL игнорировать его

### Requirement 4: Анализ дублирования путей

**User Story:** Как разработчик, я хочу выявить дублирующиеся пути в разных конфигурациях, чтобы оптимизировать настройки.

#### Acceptance Criteria

1. WHEN найдено несколько конфигураций THEN система SHALL сравнить их `content` пути
2. WHEN пути дублируются THEN система SHALL создать предупреждение типа "redundant_path"
3. WHEN preset содержит путь THEN система SHALL учитывать его при проверке дублирования
4. WHEN дублирование оправдано архитектурой THEN система SHALL позволить его игнорировать

### Requirement 5: Интеграция в существующий workflow

**User Story:** Как пользователь style-scanner, я хочу получать результаты проверки Tailwind конфигурации в том же отчете, что и анализ стилей.

#### Acceptance Criteria

1. WHEN запускается `MainScanner.scanProject()` THEN система SHALL включить этап проверки Tailwind конфигурации
2. WHEN проверка завершена THEN результаты SHALL быть включены в `ProjectScanResult`
3. WHEN генерируется Markdown отчет THEN результаты проверки SHALL быть включены в документацию
4. WHEN используется CLI THEN опции `--verbose` и `--quiet` SHALL влиять на вывод проверки конфигурации
5. WHEN происходит ошибка проверки THEN она SHALL быть включена в общую статистику ошибок

### Requirement 6: Производительность и надежность

**User Story:** Как разработчик, я хочу чтобы проверка конфигурации была быстрой и не замедляла общий процесс сканирования.

#### Acceptance Criteria

1. WHEN проверяется конфигурация THEN операция SHALL завершаться в течение 5 секунд для типичного проекта
2. WHEN файл конфигурации недоступен THEN система SHALL продолжить работу с предупреждением
3. WHEN glob паттерн слишком широкий THEN система SHALL использовать таймаут для предотвращения зависания
4. WHEN происходит ошибка парсинга THEN система SHALL логировать ошибку и продолжить работу
5. WHEN используется кэширование THEN результаты SHALL быть кэшированы для повторных запусков

### Requirement 7: Расширяемость и конфигурируемость

**User Story:** Как разработчик, я хочу настраивать правила проверки конфигурации под специфику проекта.

#### Acceptance Criteria

1. WHEN нужно игнорировать определенные пути THEN система SHALL поддерживать конфигурацию исключений
2. WHEN нужно добавить кастомные правила THEN архитектура SHALL позволять расширение
3. WHEN проект имеет нестандартную структуру THEN система SHALL поддерживать кастомные паттерны поиска
4. WHEN нужно изменить уровень строгости THEN система SHALL поддерживать настройку уровней предупреждений
